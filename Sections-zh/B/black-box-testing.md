# 黑盒测试 (Black Box Testing)

[黑盒测试](#black-box-testing)

### 相关术语：
- [白盒测试](/glossary/white-box-testing)
- [灰盒测试](/glossary/grey-box-testing)
- [玻璃盒测试](/glossary/glass-box-testing)

### 参见：
- [维基百科 (Wikipedia)](https://en.wikipedia.org/wiki/Black-box_testing)

## 关于黑盒测试的问题？

#### 基础知识与重要性

- **什么是黑盒测试？**

**黑盒测试**（Black Box Testing）是一种软件测试方法，它在不窥视应用程序内部结构或运作的情况下评估其功能。该技术专注于软件应用程序的输入和输出，用于确保软件满足指定的规格要求，并在各种场景下表现符合预期。

测试人员从软件的外部视角创建**测试用例**，这些用例通常源自对软件预期功能的描述，包括：
- **用户需求**
- **规格说明**
- **技术设计**

测试人员选择输入来运行代码路径并确定适当的输出，而无需了解软件如何处理输入或正在执行什么代码。黑盒测试适用于几乎所有层级的软件测试：单元测试、集成测试、系统测试和验收测试。它特别适用于：
- **针对用户需求的验证**
- **行为测试**
- **性能评估**

由于侧重于软件的外部行为，黑盒测试可以由不具备编程语言知识或被测系统内部结构知识的测试人员执行。

在实践中，黑盒测试涉及：
1. 理解软件的功能和用户交互。
2. 设计涵盖所有可能输入和使用场景的测试用例。
3. 执行测试并将实际结果与预期结果进行比较。
4. 将任何不一致之处作为缺陷报告给开发团队处理。

这种方法对于识别软件行为中的偏差并确保产品健壮、可靠且满足用户期望至关重要。

- **为什么黑盒测试很重要？**

黑盒测试至关重要，因为它无需理解内部运作即可评估系统功能。此方法模仿了终端用户的交互，确保从外部视角验证软件。它有助于**识别实际行为与规格要求之间的差异**，关注软件“做什么”而不是“如何做”。

通过将软件视为“黑盒”，测试人员可以精心设计测试用例来检查系统**对输入的响应**、**在各种条件下的行为**以及**输出的生成**。这确保了系统满足用户期望和需求，这对于用户满意度和软件验收至关重要。

此外，黑盒测试独立于系统的实现，使其能够适应广泛的应用，并有利于测试设计或实现**频繁变更**的系统。它还允许非技术利益相关者（如业务分析师或终端用户）参与，他们可以为系统的**功能需求**提供宝贵见解。

本质上，黑盒测试是全面测试策略的关键组成部分，通过关注软件的用户端面，为**白盒测试**提供了至关重要的平衡，最终决定了应用程序在现实世界中的成功和接受度。

- **黑盒测试的主要目标是什么？**

黑盒测试的主要目标是：
- **验证功能需求**：确保软件满足指定的功能需求和终端用户的行为预期，不考虑内部代码结构。
- **识别缺陷**：通过测试各种输入并观察输出来检测软件中的错误、Bug 和缺陷。
- **提高质量**：通过在发布前发现并纠正问题，提升产品的整体质量。
- **验证外部接口**：检查软件与其他系统和组件的接口，确保它们正确交互。
- **评估用户体验**：从用户视角评估系统，确认其用户友好并符合可用性标准。
- **确保合规性**：确保软件遵守行业标准、法规及任何合同协议。
- **降低风险**：通过在测试过程中及早发现问题，降低生产环境下系统故障的风险。
- **支持维护**：确保更改或增强未对现有功能产生不利影响，从而便于软件维护。

这些目标通过多种技术和方法达成，所有这些都侧重于从外部测试软件，而无需了解应用程序的内部运作。

- **黑盒测试的优缺点是什么？**

**黑盒测试的优点：**
- **用户视角**：从用户角度进行测试，确保软件满足用户需求和期望。
- **无需代码知识**：测试人员无需编程知识，允许非技术人员执行测试。
- **客观公正**：不受内部代码结构影响，能对功能进行客观评估。
- **并行开发**：可以与开发并行进行，因为不依赖内部代码结构。
- **覆盖全面**：鼓励在不受代码结构限制的情况下测试所有功能需求。

**黑盒测试的缺点：**
- **覆盖范围有限**：只能测试可能的输入子集，可能会遗漏某些缺陷。
- **算法测试效率低**：不适合测试复杂算法，因为不检查内部运作。
- **潜在冗余**：不了解内部代码，测试可能重复或不必要。
- **遗漏案例**：如果测试用例不够全面，某些路径或内部状态可能未被测试。
- **依赖规格说明**：严重依赖准确详细的规格说明；任何含糊不清都可能导致测试不充分。

- **黑盒测试与白盒测试有何不同？**

黑盒测试和**白盒测试**是截然不同的软件测试方法。

黑盒测试侧重于在不了解内部代码结构、实现细节或内部路径的情况下检查软件功能。测试人员验证输入和输出，确保软件表现符合预期。

相比之下，**白盒测试**（也称为透明盒测试、玻璃盒测试、贯通测试或基于代码的测试）需要对代码有深入理解。测试人员需要访问源代码以设计测试用例，从而检查程序结构、逻辑和流程。这种方法使他们能够识别潜在的安全漏洞，确保逻辑路径得到测试，并查看特定的代码行为。

黑盒测试将软件视为封闭系统，而白盒测试采用开放视角，审查内部运作。黑盒测试通常由可能不是程序员的 QA 专业人员执行，而白盒测试通常由具备编程技能的开发人员或测试人员执行。

两者之间的选择取决于测试目标、可用资源和项目需求。黑盒测试适用于验证整体软件功能和用户体验，而白盒测试则是优化代码结构、改进设计和确保彻底路径覆盖的理想选择。

#### 技术

- **有哪些不同的黑盒测试技术？**

黑盒测试技术超出了常用方法的范围。以下是自动化工程师可能采用的其他技术：
- **错误推测 (Error Guessing)**：依靠测试人员的经验来推测应用程序可能出现问题的区域。测试人员根据直觉和对类似应用的以往知识创建测试用例。
- **比较测试 (Comparison Testing)**：也称为竞争分析，涉及将软件的优缺点与类似应用进行比较，以识别潜在的改进领域。
- **组合测试 (Combinatorial Testing)**：测试输入和前提条件的所有可能组合。当多个参数影响结果，且你想确保所有排列都被覆盖时，这非常有用。
- **探索性测试 (Exploratory Testing)**：虽然结构较松散，但涉及同步学习、测试设计和执行。这是一种调查方法，测试人员在执行过程中主动控制测试的设计。
- **语法测试 (Syntax Testing)**：根据输入的特定语法选择输入值。对于需要结构化输入（如编译器或数据转换程序）的系统特别有用。
- **模糊测试 (Fuzz Testing)**：一种自动化的软件测试技术，向计算机程序提供无效、意外或随机数据作为输入，并监控程序是否出现崩溃或内置代码断言失败等异常情况。

每种技术都通过不同的视角审查软件。自动化工程师可以利用这些技术创建稳健的**测试套件**，在不了解内部运作的情况下有效验证软件行为。

- **什么是黑盒测试中的等价类划分？**

**等价类划分**（Equivalence Partitioning）是一种黑盒测试技术，它将软件应用程序的输入数据划分为等价的数据分区，并从中导出测试用例。通过这种方法，假设同一分区内的所有值都将被系统以相同方式对待。这减少了需要开发的测试用例总数，同时仍能确保足够的**测试覆盖率**。

输入的分类原则是预期它们表现出类似行为，因此测试每个组中的单个值被认为代表了整个分区。例如，如果输入接受 1 到 50 之间的值，范围可以划分为 1-10、11-20 等分区。

主要目标是识别与输入数据相关的**故障**。如果存在 Bug，它应该影响该分区的所有成员。该技术可应用于单元、集成、系统和验收等所有测试级别。

通过使用等价类划分，测试人员可以在最小化测试用例数量的同时最大化测试覆盖率，从而实现更高效的测试。

- **什么是黑盒测试中的边界值分析？**

**边界值分析 (BVA)** 是一种侧重于等价类分区分界点处值的黑盒测试技术。它是基于错误往往发生在输入范围边界的原理。BVA 涉及为这些分区**极限值**处的值创建测试用例。

对于给定范围的下界 `L` 和上界 `U`，BVA 建议为值 `L`、`L+1`、`U` 和 `U-1` 设计测试用例。此外，如果适用，还会测试边界外的值 `L-1` 和 `U+1`。

例如，一个接受 1 到 100 之间整数值的输入字段，使用 BVA 将测试以下边界值：`0`、`1`、`2`、`99`、`100` 和 `101`。

BVA 通常与**等价类划分** (EP) 结合使用，因为它们互补。EP 有助于识别要测试的值集（等价类），而 BVA 有助于确定这些集合中具体的边界值。

测试自动化工程师可以通过将这些边界值纳入其自动化**测试套件**来利用 BVA，确保覆盖潜在的边缘案例。

- **什么是黑盒测试中的决策表测试？**

**决策表测试**（Decision Table Testing）是一种**系统化的**黑盒测试技术，用于测试可应用于各种输入和条件的复杂业务逻辑。它涉及创建一个表（常被称为**因果表**），其中每一列代表输入的唯一组合，每一行对应于基于这些输入应采取的决策或动作。

在此方法中，你通过识别**条件**（原因）和**动作**（结果）来构建决策表。条件是输入状态或变量，而动作是产出或系统行为。决策表有助于确保考虑了输入的不同组合，尤其适用于变量间互相依赖或逻辑条件众多的系统。

要应用决策表测试，你需要：
1. 识别所有相关的条件和动作。
2. 创建包含所有可能条件组合的综合决策表。
3. 确定每种组合的预期动作。
4. 设计测试用例来验证系统在每种组合下的行为是否符合预期。

该技术对于**功能测试**和确保覆盖所有可能场景非常有效。

- **什么是黑盒测试中的状态转换测试？**

**状态转换测试**（State Transition Testing）是一种黑盒测试技术，用于由有限数量的状态定义系统且状态间转换受系统规则约束的情况。它对于输出不仅取决于当前输入，还取决于输入历史的系统（如事务系统、协议或状态化应用）特别有用。

在这种方法中，测试人员设计测试用例来验证状态间的转换是否按预期发生，以及系统在每个状态下的行为是否正确。这涉及：
- 识别软件可能处于的所有**状态**。
- 理解因事件或条件触发的这些状态间的**转换**。
- 定义导致转换的**输入或事件**。
- 确定转换产生的**预期输出**或动作。

测试人员创建**状态转换图**或表来可视化并理解各种状态和转换。这有助于系统地覆盖所有可能路径。状态转换测试确保软件正确处理序列依赖行为，对于发现可能无法通过其他黑盒技术暴露的、与状态更改相关的缺陷特别有效。

- **什么是黑盒测试中的用例测试？**

**用例测试**（Use Case Testing）是一种基于**用例**创建测试用例的黑盒测试技术。一个用例描述了系统如何与外部实体（如用户或其他系统）交互以实现特定目标。在此方法中，测试人员专注于**用户场景**和**功能需求**来验证系统行为。

测试人员开发的测试用例覆盖用例的完整流程，包括**主流程**（标准操作）和**备选流程**（错误情况和其他分支）。这确保了测试用户可能通过应用程序采取的所有路径。用例测试对于识别单元或组件测试中可能不明显的**集成**和**系统级问题**特别有用。

用例测试非常有效，因为它是**以用户为中心**的，确保系统满足终端用户的需求和期望，同时也是一种**验证业务流程**并确保系统正确支持这些流程的方法。

#### 流程与实施

- **黑盒测试涉及哪些步骤？**

黑盒测试涉及的步骤如下：
1. **理解需求**：审查软件需求和规格说明以理解预期行为。
2. **定义测试目标**：确立你打算验证的内容，如功能性、可用性或性能。
3. **测试规划**：确定测试范围、资源、时间表和要使用的方法。
4. **设计测试用例**：创建涵盖所有可能输入、输出和用户交互的测试用例。应用边界值分析、等价类划分、决策表测试等技术。
5. **准备测试环境**：搭建模拟生产设置的测试环境。
6. **执行测试**：在软件上运行设计的测试用例。记录结果并与预期结果进行比较。
7. **缺陷报告**：将发现的任何差异作为缺陷记录下来，供开发团队处理。
8. **回归测试**：修复缺陷后进行重新测试，并检查新更改是否对现有功能产生不利影响。
9. **测试收尾**：汇总测试结果，评估覆盖范围，并评价测试过程的质量。

在整个过程中，保持清晰简明、高透明度的文档。在适用处使用自动化工具以提高效率和可重复性。

- **如何执行黑盒测试？**

黑盒测试通过以下步骤执行：
1. **理解需求和规格说明**，确定系统应该做什么。
2. **开发测试用例**，涵盖规格说明中提到的所有功能。侧重于输入和预期输出。
3. **选择黑盒测试技术**，如等价类划分、边界值分析、决策表测试、状态转换测试或用例测试。
4. **准备测试数据**，确保正向和负向测试场景的混合。
5. **执行测试用例**并比较实际输出与预期结果。
6. **记录结果**并行缺陷日志。
7. **修复后复测**，确认问题已解决且未引入新问题。
8. **报告**，提供覆盖范围、缺陷发现及软件质量评估。

在执行过程中，可以使用**自动化测试**工具输入**测试数据**、记录及比较结果。工具涵盖从简单的录制回放工具到可集成至 CI/CD 流水线的高度复杂框架。

- **选择黑盒测试技术的标准是什么？**

选择标准包括：
- **应用类型**：例如 Web 应用可能更受益于状态转换测试，而金融应用可能需要严密的边界值分析。
- **测试目标**：例如验证业务流程时，用例测试是最佳选择。
- **软件复杂度**：复杂系统可能需要等价类划分与边界值分析的组合。
- **风险评估**：高风险区域需要能覆盖广泛输入和用户行为的技术，如决策表测试。
- **资源可用性**：考虑可用的人力和时间，某些技术需要更多准备时间。
- **文档情况**：详细的规格说明支持决策表测试的应用。
- **客户/监管要求**：特定的行业或监管标准可能指定某种技术。
- **既往缺陷**：分析历史缺陷以确定易错区域。
- **测试覆盖率**：确保选定技术能提供所需的功能覆盖。
- **工具支持**：支持特定技术的工具可以提高效率。

- **黑盒测试使用了哪些工具？**

黑盒测试工具专注于输入输出验证，常用的包括：
- **Selenium**：用于 Web 浏览器自动化的开源工具。
- **Appium**：将 Selenium 框架扩展到 Android 和 iOS 移动应用。
- **QTP/UFT** (Unified Functional Testing)：来自 Micro Focus 的商用功能和回归测试工具。
- **TestComplete**：支持桌面、移动和 Web 应用的商用工具。
- **SoapUI**：主要用于 **API 测试**。
- **JMeter**：用于性能测试，也可配置用于 Web 应用的功能测试。
- **Postman**：用于 API 测试的友好界面工具。
- **Robot Framework**：基于关键词的自动化框架，适用于验收测试。

- **如何在黑盒测试中编写有效的测试用例？**

关键策略包括：
- **彻底理解用户需求**以保持一致性。
- **识别测试场景**，涵盖所有功能方面及边缘案例。
- **使用边界值分析和等价类划分**以最小化用例并最大化覆盖。
- **针对复杂规则整合决策表测试**。
- **针对状态依赖应用采用状态转换测试**。
- **利用用例测试**模拟真实世界交互。
- **基于风险和关键性排列优先级**。
- **确保用例独立性**，以便于后续任何序列的执行。
- **编写清晰简明的步骤和预期结果**。
- **定期评审和完善**以适应变更。
- **适时使用自动化工具**。

#### 实际应用

- **有哪些黑盒测试的真实案例？**

真实案例包括：
- **用户界面 (UI) 测试**：在不了解代码的情况下验证 Web 应用的按钮、表单和导航。
- **功能测试**：在不了解底层逻辑的情况下测试电商应用的支付网关功能。
- **系统测试**：验证完整的移动应用产品是否满足规格要求。
- **验收测试**：对 CRM 系统进行测试以确定其是否符合业务需求。
- **回归测试**：在流媒体平台更新后确保视频播放和身份验证功能仍能正常工作。
- **探索性测试**：手动探索项目管理工具的新功能以发现意外行为。
- **Ad-hoc 测试**：随机测试 GPS 导航应用以查找潜在缺陷。
- **兼容性测试**：检查办公软件在不同操作系统和浏览器上的一致性表现。
- **性能测试**：在不检查内部运作的情况下衡量 API 在各种负载下的响应时间和吞吐量。

- **黑盒测试在敏捷开发中如何应用？**

在**敏捷开发**（Agile development）中，黑盒测试被集成到迭代过程的各个阶段：
- **用户故事验证**：测试人员根据用户故事和验收标准创建测试用例。
- **Sprint 内验证**：每个 Sprint 内执行新功能的验证和现有功能的回归测试。
- **自动化集成**：使用自动化黑盒测试为 CI/CD 流水线提供即时反馈。
- **团队协作**：测试人员与开发人员及产品负责人紧密合作，以应对需求的演变。
- **探索性测试**：在敏捷中常用，用于发现结构化测试可能遗漏的问题。

敏捷中的黑盒测试旨在从用户视角测试，并确保软件随着 Sprint 的推进持续满足用户需求。

- **黑盒测试在软件开发生命周期 (SDLC) 中如何应用？**

黑盒测试贯穿 **SDLC**：
- **需求阶段**：帮助理解需求并设计反映用户场景的测试。
- **设计阶段**：基于需求准备测试计划和用例。
- **开发阶段**：通过手动或自动化 UI 测试验证开发出的特性。
- **测试阶段**：应用边界值、等价类划分等技术确保功能全覆盖。
- **暂存/预发布阶段**：执行系统测试和**用户验收测试 (UAT)** 以确保就绪。
- **发布后阶段**：进行回归测试和维护测试（针对补丁程序）。

- **黑盒测试在端到端 (E2E) 测试中如何应用？**

在 **E2E 测试**（End-to-end testing）中：
- **模拟用户行为**：忽略内部运作，模拟从开始到结束的完整业务流程。
- **环境模拟**：在生产备用环境下，测试与数据库、外部服务及网络通信的交互。
- **验证需求**：检查功能性及性能、可用性、可靠性等非功能性指标。
- 使用 **Selenium**、**Cypress** 或 Playwright 等工具编写脚本来验证这些场景。
