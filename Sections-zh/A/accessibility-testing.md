# 无障碍测试 (Accessibility Testing)

[无障碍测试](#accessibility-testing)

### 相关术语：
- [易用性测试](/glossary/usability-testing)

## 关于无障碍测试的问题？

#### 基础知识与重要性

- **什么是无障碍测试？**

**无障碍测试 (Accessibility Testing)** 是确保软件和 Web 应用可供具有广泛障碍的人群使用的过程，这些障碍包括视觉、听觉、身体、言语、认知、语言、学习和神经系统障碍。这种形式的测试检查应用程序是否可以被使用辅助技术（如屏幕阅读器、盲文终端和替代输入设备）的个人有效操作和理解。

无障碍测试的**关键方面**包括：
- **可导航性**：用户能否使用键盘或辅助设备在应用中导航？
- **可读性**：对于有视觉障碍的用户，内容是否可读且易于理解？
- **兼容性**：应用是否能与各种辅助技术协同工作？
- **语义化 HTML**：是否使用 HTML 元素来传达含义和结构？
- **动态内容**：动态内容是否可以通过屏幕阅读器访问？
- **视觉设计**：对于低视力用户，文本和背景之间是否有足够的对比度？
- **多媒体**：视频和音频内容是否提供字幕和转录文本？

技术上涉及**自动化测试**和**[手工测试](/wiki/manual-testing)**方法。自动化工具可以扫描某些类型的问题，如缺失的替代文本 (alt text) 或不正确的 ARIA 角色，而手工测试可能包括使用屏幕阅读器操作应用或仅通过键盘进行导航。

使用自动化工具检查图像替代文本的**代码示例**：
```javascript
it('所有图像都应具有替代文本', () => {
  cy.get('img').each(($img) => {
    expect($img.attr('alt')).to.be.a('string').and.not.be.empty;
  });
});
```

总之，无障碍测试是**软件质量保证**的一个重要组成部分，它确保了包容性和法律合规性。

- **为什么无障碍测试很重要？**

无障碍测试至关重要，因为它确保了**所有用户**（包括残障人士）都能有效地访问和使用软件产品。通过识别和消除无障碍障碍，它促进了**包容性设计**并增强了多元化受众的**用户体验**。这种类型的测试不仅是伦理责任和用户倡导的问题，在许多司法管辖区也是一项法律要求，有助于组织遵守法律并避免潜在的**法律纠纷**。

此外，无障碍测试可以带来 **SEO 的提升**，因为搜索引擎更青睐无障碍网站，从而可能增加网站的可见性和覆盖范围。它还鼓励**最佳编码实践**，从而产生更整洁、更易于维护的代码。通过在开发过程早期整合无障碍考虑，公司可以减少后期改进无障碍功能所需的成本和工作量。

总之，无障碍测试非常重要，因为它：
- **促进包容性**：通过确保软件可供具有各种能力的人使用。
- **履行法律义务**：帮助组织遵守无障碍标准并避免法律问题。
- **增强 SEO**：可能增加软件的可见性和覆盖范围。
- **鼓励更好的编码实践**：从而开发出更易于维护和健壮的软件。

忽视无障碍测试可能会导致**用户群缩小**、潜在的**法律挑战**以及错失**产品改进**的机会。

- **无障碍测试的目标是什么？**

无障碍测试的目标是**确保**软件产品可供具有广泛**能力和障碍**的人群**使用**。这包括验证产品是否**符合无障碍标准和指南**，例如 Web 内容无障碍指南 (WCAG) 和 Section 508。通过这样做，它旨在提供**包容性的用户体验**，使具有受损情况（如视觉、听觉、身体、言语、认知、语言、学习和神经系统障碍）的个人能够有效地**导航、交互**并**访问内容**。

无障碍测试还寻求**识别并消除**可能阻止残障人士使用产品的**障碍**，确保所有用户都能**平等地访问**信息和功能。它涉及**自动化工具**和**手动技术**的结合，以覆盖自动化可能无法捕获的各个方面。

最终，其目标是**维护法律和道德标准**，**避免歧视**，并通过使产品可供更广泛的受众使用来**扩大市场覆盖范围**。这不仅仅是为了合规，更是为了**拥抱多元化**并**提升用户满意度**。

- **无障碍测试如何使用户受益？**

无障碍测试通过确保软件产品可供具有各种能力和障碍的人群使用来使用户受益。这种包容性允许**更广泛的受众**有效地与应用程序、网站或工具交互，无论他们的身体或认知挑战如何。通过适配**辅助技术**（如屏幕阅读器、盲文终端和语音识别软件），无障碍测试有助于创造更**公平的用户体验**。

对于残障用户，无障碍测试可能意味着能够在线执行基本任务与面临重大障碍之间的区别。它实现了**独立的导航**和交互，这对于个人自主和尊严至关重要。此外，它可以**减少挫折感**并为用户**提高效率**，因为他们可以毫无障碍地访问和使用功能及信息。

除了直接的用户利益，无障碍测试还可以为所有用户带来**易用性的提升**。许多无障碍功能，如清晰的导航和易读的字体，增强了整体用户体验。通过关注无障碍性，开发人员可以无意中为更广泛的用户群改进设计和功能，从而开发出更**直观且用户友好**的产品。

最后，无障碍测试有助于**避免法律纠纷**，确保软件不仅是包容的，而且在法律上也是合规的。

- **不进行无障碍测试的影响是什么？**

不进行无障碍测试可能会产生重大影响：
- **排除用户**：如果没有无障碍测试，软件可能无法被残障人士使用，从而有效地将他们排除在访问产品或服务之外。
- **法律后果**：未能遵守《美国残疾人法案》(ADA) 或 Section 508 等法律标准可能会导致诉讼和财政处罚。
- **品牌识别受损**：无法访问可能会损害公司的声誉，因为它暗示缺乏对所有用户的考虑。
- **市场覆盖面减少**：忽视无障碍测试限制了潜在的用户群，因为残障人士代表了一个庞大的细分市场。
- **糟糕的用户体验**：无障碍问题不仅会导致残障用户的挫败感，也会影响那些处于临时或情境性限制下的用户。
- **增加成本**：在开发后期或发布后识别并修复无障碍问题通常比在常规测试周期内解决这些问题更昂贵。

总之，忽视无障碍测试可能会产生伦理、法律、财务和声誉方面的影响，同时也会损害软件的整体质量和易用性。

#### 标准与指南

- **无障碍测试的关键标准和指南有哪些？**

无障碍测试的关键标准和指南包括：
- **Web 内容无障碍指南 (WCAG)**：Web 无障碍的主要国际标准，详细说明了如何使 Web 内容对残障人士更具无障碍性。应遵循最新版本（目前为 WCAG 2.1），并争取至少达到 AA 级合规性。
- **无障碍富互联应用程序 (ARIA)**：定义了一种使 Web 内容和 Web 应用程序对残障人士更具无障碍性的方法。使用 ARIA 角色和属性来增强动态内容和复杂用户界面组件的无障碍性。
- **Section 508**：美国联邦法律，要求联邦政府开发、采购、维护或使用的所有电子和信息技术对残障人士无障碍。如果您的软件将被联邦机构或承包商使用，请确保其符合这些标准。
- **EN 301 549**：欧洲数字无障碍标准，规定了 ICT 产品和服务的要求。
- **ISO/IEC 40500**：与 WCAG 2.0 相同的国际标准，提供了一个稳定的、可参考的技术标准。

在进行无障碍测试时，请遵循以下准则：
- **尽可能自动化**：使用自动化工具捕获易于检测的问题，但请记住它们无法发现所有问题。
- **[手工测试](/wiki/manual-testing)**：通过手动检查来补充**[自动化测试](/wiki/automated-testing)**，特别是针对导航便利性和理解度等主观标准。
- **用户测试**：让真实的残障用户参与测试，以获得对无障碍性的真实反馈。
- **持续合规**：将无障碍测试集成到您的持续集成/持续部署 (CI/CD) 流水线中，以确保持续合规。
- **保持更新**：随时了解无障碍标准和指南的更新。

- **什么是 WCAG，它为什么重要？**

WCAG，即 **Web 内容无障碍指南**，是一套使 Web 内容对残障人士更具无障碍性的建议。它通过 W3C 流程，与世界各地的个人和组织合作开发，旨在为 Web 内容无障碍性提供单一的共享标准。

WCAG 很重要，因为它作为 Web 无障碍的**全球基准**，确保网站、应用程序和数字工具可供所有人使用，包括那些具有听觉、认知、神经、身体、言语和视觉障碍的人。遵守 WCAG 有助于消除阻碍残障人士与网站交互或访问网站的障碍。当网站经过正确的设计、开发和编辑时，所有用户都可以平等地访问信息和功能。

遵循 WCAG 指南不仅是**伦理责任**和**包容性**的问题，在许多司法管辖区也是一项法律要求。不合规可能会导致法律后果并损害组织的声誉。此外，坚持 WCAG 可以改善整体用户体验并潜在地增加受众覆盖面，因为无障碍网站往往对 SEO 更友好，且对所有用户（不仅是残障受众）都有更好的易用性。

- **WCAG 合规性的不同级别是什么？**

WCAG 合规性分为三个等级：
- **A 级**：最基础的 Web 无障碍功能。网站必须达到此级别，以免排除某些残障群体。它包括为非文本内容提供文本替代方案，并确保可以使用键盘进行导航。
- **AA 级**：处理残障用户面临的最大和最常见的障碍。此级别引入了诸如为音频内容提供字幕以及确保文本可读易懂等标准。达到此级别通常是许多组织和政府的法律要求。
- **AAA 级**：WCAG 合规性的最高且最严格的级别。此级别包括更广泛的标准，以改善针对不同类型障碍的无障碍性。它涵盖了 A 级和 AA 级的所有要求，并添加了更多内容，如为音频内容提供手语翻译。然而，对于某些内容，并非总是能满足所有 AAA 级成功标准，因此它不是完全合规的严格要求。

每个级别都建立在前一个级别的基础之上，AA 级是大多数网站的典型目标标准。

- **什么是 Section 508，它与无障碍测试有何关系？**

Section 508 是 1973 年《康复法案》的一部分，要求联邦机构使其电子和信息技术 (EIT) 对残障人士无障碍。在**[测试自动化](/wiki/test-automation)**的背景下，Section 508 合规性意味着确保应用程序和网站可供具有各种障碍的个人使用。

为了符合 Section 508，自动化测试应包括以下检查：
- **键盘可导航性**：确保所有功能都可以通过键盘命令操作。
- **屏幕阅读器兼容性**：验证内容结构是否使屏幕阅读器能够正确解释和朗读。
- **色彩对比度**：测试文本和背景之间是否有足够的对比度。
- **图像替代文本**：检查所有图像是否都具有描述性 alt 文本。
- **字幕和音轨说明**：确保多媒体内容具有字幕和说明。

自动化工具可以协助识别某些问题，但**[手工测试](/wiki/manual-testing)**对于全面确保无障碍性也是必要的。**[测试自动化](/wiki/test-automation)**工程师应将自动化和手动无障碍检查都整合到其测试策略中。

- **什么是 ARIA 角色，它们如何在无障碍测试中使用？**

ARIA 角色是无障碍富互联应用程序 (ARIA) 规范的一部分，该规范定义了使 Web 内容和 Web 应用程序对残障人士更具无障碍性的方法。ARIA 角色为辅助技术提供有关功能、结构和行为的语义信息。

在无障碍测试中，ARIA 角色用于：
- **向辅助技术标识 UI 元素**：通过定义 `button`、`dialog`、`menu` 和 `progressbar` 等角色。
- **传达 UI 元素的状态**：使用 `aria-expanded`（用于可折叠内容）或 `aria-checked`（用于复选框）等属性。
- **定义 Web 内容的结构**：使用 `navigation`、`main`、`complementary` 和 `contentinfo` 等角色。

测试 ARIA 角色的方法：
1. **验证角色的正确实现**：使用自动化工具或手动检查。
2. **确保角色与元素功能匹配**（例如，为可点击元素使用 `role="button"`）。
3. **检查 ARIA 状态和属性随用户交互的动态变化**。
4. **使用屏幕阅读器**确认角色和状态是否被正确朗读。

带有 ARIA 角色的按钮示例：
```html
<button role="button" aria-pressed="false">切换</button>
```

在此示例中，`role="button"` 传达了元素的功能，而 `aria-pressed` 指示了切换状态。**测试自动化工程师**应将 ARIA 角色验证整合到其测试套件中。

#### 工具与技术

- **无障碍测试通常使用哪些工具？**

无障碍测试的常用工具包括：
- **Axe**：一个可以集成到测试框架中的开源库。它作为浏览器扩展程序提供，也提供 CLI 工具。
  `npm install axe-core --save-dev`
- **WAVE (Web Accessibility Evaluation Tool)**：一套帮助作者提高 Web 内容无障碍性的评估工具。包括浏览器扩展和在线服务。
- **[Lighthouse](/wiki/lighthouse)**：一种开源的自动化工具，用于提高网页质量。它具有针对性能、无障碍性、渐进式 Web 应用等的审核。
  `lighthouse https://example.com --only-categories=accessibility`
- **JAWS (Job Access With Speech)**：Windows 屏幕阅读器，允许视觉受损用户读取屏幕。
- **NVDA (NonVisual Desktop Access)**：一款免费开源的 Windows 屏幕阅读器。
- **VoiceOver**：内置于 Apple Inc. 的 macOS 和 iOS 操作系统中的屏幕阅读器。
- **色彩对比度分析器**：诸如 Colour Contrast Analyser (CCA) 之类的工具，可帮助您确定文本的易读性和视觉元素的对比度。
- **Tenon.io**：一个 API 优先的自动化无障碍测试工具。
- **Pa11y**：从命令行运行 HTML CodeSniffer 的自动化无障碍测试工具。
  `pa11y http://example.com`
- **Accessibility Insights**：一种提供无障碍测试指导和解决方案的工具，可用作浏览器扩展和 Windows 应用程序。

- **无障碍测试有哪些手工技术？**

无障碍测试的手工技术涉及**用户模拟**、**辅助技术使用**和**检查清单**的结合。以下是一些技术：
- **键盘导航**：仅使用键盘导航应用，确保所有交互元素都可以在没有鼠标的情况下到达。
- **屏幕阅读器测试**：使用 NVDA 或 JAWS 等屏幕阅读器体验应用。
- **色彩对比度分析**：手动检查颜色组合，确保对比度充足。
- **代码走查 ([Inspection](/wiki/inspection))**：审查 HTML/CSS 代码的语义结构、标题、标签和角色。
- **缩放和放大**：在不同的缩放级别下测试应用，确保内容清晰且功能正常。
- **内容可读性**：评估语言是否清晰简洁，这有利于认知障碍用户。
- **焦点管理**：确保焦点顺序符合逻辑且可见。
- **残障人士参与的用户测试**：邀请残障用户参与测试过程，获取直接反馈。

这些手动方法补充了**[自动化测试](/wiki/automated-testing)**，涵盖了需要人类判断和视角的方面。

- **自动化工具如何用于无障碍测试？**

自动化工具通过快速扫描网页来发现常见的无障碍问题。它们可以集成到 CI/CD 流水线中，以确保**持续合规**。诸如 **axe-core**、**WAVE** 或 **[Lighthouse](/wiki/lighthouse)** 之类的工具提供 **[API](/wiki/api)** 和插件，可与 **[Selenium](/wiki/selenium)**、**[Jest](/wiki/jest)** 或 **[Cypress](/wiki/cypress)** 等测试框架集成。

使用自动化工具来：
- **检测代码级问题**：识别缺失 alt 文本、ARIA 角色使用不当和色彩对比度不足等问题。
- **运行回归测试**：确保新代码不会引入无障碍功能退化。
- **生成报告**：为利益相关者创建详细报告。
- **确定修复优先级**：突出显示对用户影响最大的关键问题。

将无障碍测试工具与测试框架集成的示例：
```javascript
const axe = require('axe-core');
const { browser, by, element } = require('protractor');

describe('无障碍检查', () => {
  it('应该对页面进行分析', async () => {
    await browser.get('https://example.com');
    const results = await axe.run();
    expect(results.violations.length).toBe(0, '发现无障碍违规项');
  });
});
```

自动化工具不能替代**[手工测试](/wiki/manual-testing)**或用户测试，但它们是发现障碍的**宝贵第一步**。

- **自动化无障碍测试工具有哪些局限性？**

自动化无障碍测试工具有几个局限性：
- **误报/漏报 ([False Positives](/wiki/false-positive))**：工具可能会报告并非实际障碍的问题，或漏掉真实问题。
- **语境理解**：它们缺乏理解语境和含义的能力。
- **用户体验**：无法完全评估导航便利性和理解度。
- **动态内容**：通常难以处理响应用户操作而变化的动态内容。
- **视觉设计与可读性**：可能无法准确判断视觉设计元素（如图形内容）。
- **键盘导航**：虽然可以模拟，但可能无法有效识别所有键盘用户遇到的问题。
- **屏幕阅读器兼容性**：需要实际使用屏幕阅读器测试，工具无法完全复制该体验。
- **辅助技术的多样性**：工具无法测试与所有辅助技术的兼容性。
- **全面性**：没有任何单一工具可以涵盖所有指南，通常需要结合多种工具和手工测试。

为了减轻这些局限性，应将**[自动化测试](/wiki/automated-testing)**与**手工测试**和针对残障人士的**用户测试**结合起来。

- **如何针对不同类型的障碍进行测试？**

针对不同类型的障碍进行测试涉及模拟残障人士的用户体验：
- **视觉障碍**：使用屏幕阅读器。确保所有内容均可读，且导航不依赖视觉线索。测试不同的对比度设置和字体大小。
- **听觉障碍**：验证所有音频内容是否有文本替代方案。测试应用在无声状态下的可用性。
- **肢体障碍**：仅使用键盘进行导航测试。考虑无法使用鼠标的用户的需求。
- **认知障碍**：简化内容结构。测试一致的导航和可预测的交互。

在测试环境中加入**辅助技术**和**用户偏好**。请记住，虽然自动化工具可以捕获许多问题，但无法检测到用户体验的所有细微差别。**[手工测试](/wiki/manual-testing)**对于综合评估至关重要。

#### 实施与最佳实践

- **实施无障碍测试有哪些最佳实践？**

包括：
- **在开发早期整合无障碍测试**。
- **培训团队**了解无障碍原则。
- **创建检查清单**（基于 WCAG）。
- **结合使用自动化和[手工测试](/wiki/manual-testing)**。
- **自动化重复任务**（如对比度检查）。
- **开展用户测试**。
- **定期评审和更新测试**。
- **完整记录无障碍问题**。
- **根据影响优先级处理问题**。
- **将无障碍测试纳入“完成定义 (Definition of Done)”**。
- **利用浏览器开发工具**。
- **保持了解法律要求**。

通过遵循这些实践，您可以创建更具包容性的产品并提升整体用户体验。

- **如何将无障碍测试纳入软件开发生命周期？**

将无障碍测试纳入 SDLC 涉及将其整合到每个阶段：
- **需求阶段**：定义基于 WCAG 和 Section 508 的无障碍标准。
- **设计阶段**：使用原型评估对比度和导航顺序。
- **开发阶段**：实现语义化 HTML 和 ARIA 角色。使用自动化工具进行初步检查。
- **测试阶段**：在**[测试用例](/wiki/test-case)**中包含无障碍性，执行自动化和**[手工测试](/wiki/manual-testing)**。
- **部署阶段**：执行最终审查和验证。
- **发布后**：建立用户反馈循环，并定期更新**[测试套件](/wiki/test-suite)**。

- **如何确保持续的无障碍合规性？**

要在**[测试自动化](/wiki/test-automation)**中确保持续合规：
- **将无障碍检查集成到常规测试套件中**。
- **实施持续集成 (CI)**，在每次构建时运行无障碍测试。
- **采用左移 (Shift-left) 方法**，尽早捕获问题。
- **定期更新测试用例**以覆盖新标准。
- **教育团队**重要性。
- **进行定期的人工审计**。
- **使用真实用户指标 (RUM)** 监控实际交互。
- **与残障用户交流**获取反馈。

通过将这些实践嵌入到工作流中，您可以随着时间的推移维持高水平的无障碍合规性。

- **有哪些常见的无障碍问题需要寻找？**

测试中需要寻找的常见无障碍问题包括：
- **文本替代方案**：图像缺失 `alt` 文本。
- **键盘导航**：无法仅使用键盘导航。
- **色彩对比度**：对比度不足导致阅读困难。
- **焦点指示器**：缺乏清晰可见的焦点。
- **表单标签**：缺失标签。
- **ARIA 使用不当**：属性错误或缺失。
- **时基媒体**：音频和视频缺失字幕或转录。
- **可缩放文本**：文本无法缩放或放大。
- **语言标识**：缺失语言属性。
- **错误识别**：错误提示信息不充分。
- **一致的导航**：导航顺序或命名不一致。
- **动态内容更新**：更新时缺乏对屏幕阅读器的提醒。

- **如何使网站更具无障碍性？**

要增强网站的无障碍性：
- **使用语义化 HTML**。
- **提供文本替代方案 (`alt`)**。
- **确保足够的色彩对比度**。
- **使所有功能均可从键盘访问**。
- **为交互元素创建标签 (`<label>`)**。
- **提供清晰一致的导航**。
- **包含“跳过导航”链接**。
- **确保表单无障碍**。
- **使用 ARIA 地标 (`<nav>`, `<main>` 等)**。
- **使用屏幕阅读器测试**。
- **提供字幕和转录**。
- **与真实的残障用户一起测试**。

请记住，无障碍性是一项持续的承诺，应集成到定期的开发和测试周期中。
