# 验收测试 (Acceptance Testing)

[验收测试](#acceptance-testing)

### 相关术语：
- [用户验收测试](/glossary/user-acceptance-testing)
- [FAT (工厂验收测试)](/glossary/fat-factory-acceptance-testing)

### 参见：
- 维基百科
[维基百科](https://zh.wikipedia.org/wiki/验收测试)

## 关于验收测试的问题？

#### 基础知识与重要性

- **什么是验收测试？**

**验收测试 (Acceptance Testing)** 是验证系统功能和业务需求是否符合预定义标准的阶段，旨在确保软件已准备好进行生产。它通常是产品交付给客户或提供给最终用户之前的**最后一步**。这种测试形式关注的是**用户体验**和**整体系统行为**，而不是单个组件，通常涉及回归**真实场景**和**端到端工作流**。

要有效地进行验收测试，请考虑以下几点：
- **定义清晰的验收标准**：这些标准应由利益相关者商定，并构成**[测试用例](/wiki/test-case)**的基础。
- **确定测试用例的优先级**：专注于交付最大价值的关键业务功能和用户旅程。
- **利用用户反馈**：整合来自 Beta 测试人员或真实用户的见解以完善测试。
- **适时自动化**：虽然自动化可以提高效率，但某些评估易用性和美观度的测试可能需要手动、人工参与。
- **审核并调整**：利用结果对产品就绪情况做出明智的决定，并确定待改进的领域。

请记住，验收测试不只是为了发现缺陷，更是为了确保产品满足业务需求并提供积极的用户体验。与利益相关者保持沟通渠道通畅，以对齐预期和结果。

- **为什么验收测试很重要？**

验收测试至关重要，因为它是产品推向市场或交付客户前的**最终验证**。它确保软件满足业务需求，并能够提供**预期的用户体验**。通过模拟真实世界的使用情况，它验证了端到端的业务流，而不仅仅是单个组件或功能。

这种测试形式通常是应对可能显著影响客户满意度和商业成功的**[缺陷](/wiki/bug)**和问题的**最后一道防线**。它有助于识别**用户期望**与实际产品之间的任何差异，允许团队在问题影响到最终用户之前就予以解决。

此外，验收测试提供了一个清晰的**产品验收指标**，为所谓的“成品”设定了确定性的标准。它还提供**法律合规性检查**，确保软件遵守行业或市场的相关法规和标准。

本质上，验收测试是为了**建立对产品质量及其部署就绪性的信心**。这是一个不仅审查功能，还审查应用**易用性、可访问性和整体性能**的机会，这些对于用户接受都至关重要。如果没有这个阶段，团队将面临发布可能无法完全满足客户需求或预期的产品的风险，从而导致支持成本增加、声誉受损，并可能导致产品在市场上的失败。

- **验收测试有哪些不同类型？**

验收测试可以分为几种类型，每种都有特定的侧重点和目的：
- **用户验收测试 (UAT)**：旨在确保软件满足用户需求并准备好投入实际使用。用户或利益相关者执行这些测试以验证端到端的业务流。
- **业务验收测试 (BAT)**：专注于验证软件的业务目标。它类似于 UAT，但具有更具战略性的视角，通常涉及高级业务利益相关者。
- **Alpha 测试**：在软件发布给外部用户之前由内部工作人员执行，以便及早发现重大问题。
- **Beta 测试**：由选定的外部用户群体在真实环境中执行，以便从用户角度识别任何问题。
- **合同验收测试**：确保软件满足合同规定的要求，通常根据供应商和客户商定的标准清单进行。
- **法律验收测试 (RAT)**：验证软件是否符合行业法规和标准，这在金融、医疗和航空等领域至关重要。
- **运行验收测试 (OAT)**：也称为生产验收测试，它检查备份、恢复和维护程序等运行方面。

每种类型的验收测试都致力于从不同维度验证软件的部署和使用就绪性，确保满足所有利益相关者的期望。

- **验收测试如何融入软件开发生命周期？**

验收测试是**软件开发生命周期 (SDLC)** 中的一个关键阶段，通常在**[系统测试](/wiki/system-testing)**之后、产品上线之前的**预发布**阶段进行。它作为最后的**[验证](/wiki/verification)**，确保软件满足业务需求并准备好投入运行使用。

在**敏捷方法论**中，验收测试集成在**[迭代](/wiki/iteration)**中，允许对用户故事进行持续验证。这是开发人员、测试人员和利益相关者之间的协作努力，旨在确认产品功能与业务需求一致。

对于**瀑布流项目**，验收测试是一个在大规模系统测试之后按照线性顺序进行的独立阶段。它充当软件交付客户或提供给最终用户之前的看门人。

在这两种情况下，重点都是验证**端到端的业务流程**，而不是单个组件，确保软件在类生产环境中按预期运行。验收测试基于所有相关方商定的**预定义标准**。

验收测试的结果对于 **Go/No-go (发布/不发布) 决策**至关重要。成功通过表明软件被认为**符合目的**，而任何重大问题必须在上线前解决。该阶段也是验证监管和合规要求（如果适用）的机会。

将验收测试纳入 SDLC 可确保最终产品不仅在技术上可行，而且能为业务及用户交付预期的价值。

- **验收测试与其他类型的测试有何不同？**

验收测试与其他测试类型的不同主要在于其**范围**和**利益相关者**。虽然**[单元测试](/wiki/unit-testing)**关注单个组件，**[集成测试](/wiki/integration-testing)**确保系统不同部分协同工作，但验收测试评估的是系统对业务需求的符合性，并评估其是否准备好部署。

**[功能测试](/wiki/functional-testing)**检查代码的特定功能，而验收测试关注从最终用户角度看到的**整个应用的行为**。它是一种黑盒测试，不关注应用的内部工作原理。

另一方面，**[性能测试](/wiki/performance-testing)**衡量系统在特定负载下的响应能力和稳定性，这通常不是验收测试的主要目标。**[易用性测试](/wiki/usability-testing)**关于用户体验，但它通常比有特定待满足标准的验收测试更具主观性且不那么正式。

验收测试通常是软件上线前的最后一步，涉及**真实场景**和针对用户需求的验证。它通常由不深度参与开发过程的利益相关者或业务代表执行，而不是 QA 或开发团队。这种外部视角对于确保软件满足其预期用户的需求和期望至关重要。

总之，验收测试的独特性在于它专注于从用户的角度验证产品是否已准备好投入生产，而不仅仅是验证技术正确性或性能基准。

#### 技术与策略

- **验收测试中常用哪些技术？**

验收测试中常用的技术包括：
- **行为驱动开发 (BDD)**：利用 Cucumber、SpecFlow 或 Behat 等框架，用利益相关者能理解的自然语言编写测试。
```gherkin
功能：用户登录
  场景：使用有效凭证成功登录
    假设 登录页面已显示
    当 用户输入有效凭证
    那么 用户被重定向到仪表板
```
- **用户验收测试 (UAT)**：真实用户在模拟生产的环境中测试软件，以验证端到端业务流。
- **[探索性测试](/wiki/exploratory-testing)**：测试人员在没有预定义测试用例的情况下探索软件，以发现意外行为或**[缺陷](/wiki/bug)**。
- **[基于会话的测试](/wiki/session-based-testing)**：具有特定目标和时间限制的有组织的探索性测试会话。
- **基于检查清单的测试**：使用功能或需求清单作为指南。
- **Alpha/Beta 测试**：将软件发布给外部有限受众 (Alpha) 或实际用户 (Beta) 以收集反馈。
- **自动化的[回归测试](/wiki/regression-testing)**：运行自动化测试以确认最近的更改未对现有功能产生不利影响。
- **[性能测试](/wiki/performance-testing)**：评估系统在负载下的表现，以确保满足速度和响应能力的验收标准。
- **合规性测试**：验证软件是否遵守行业标准、法规或合同协议。

这些技术有助于在发布前确保软件满足业务需求、提供良好的用户体验且无重大问题。

- **如何制定验收测试策略？**

制定验收测试策略涉及几个关键步骤：
1. **定义验收标准**：与利益相关者协作，为每个功能或用户故事建立清晰、可衡量的验收标准。
2. **确定[测试用例](/wiki/test-case)的优先级**：识别关键业务流并相应地确定测试用例的优先级。
3. **选择测试技术**：选择合适的技术（如 **[BDD](/wiki/bdd)** 或实例化需求）来创建可理解且可执行的规格说明。
4. **计划[测试数据](/wiki/test-data)管理**：确保不同场景下相关数据的可用性，考虑数据隐私和合规性要求。
5. **设计[测试环境](/wiki/test-environment)**：建立一个尽可能模拟真实生产环境的稳定测试环境，以发现环境特定问题。
6. **明智地自动化**：自动化回归和高优先级的测试用例。保留探索性、易用性和随机场景执行**[手工测试](/wiki/manual-testing)**。
7. **集成 CI/CD**：将验收测试嵌入到 CI/CD 流水线中。
8. **监控与衡量**：实施监控以跟踪**[测试覆盖率](/wiki/test-coverage)**、通过率和缺陷密度。
9. **评审与调整**：定期与团队评审测试策略，以适应应用或业务优先级的变化。
10. **利益相关者沟通**：通过清晰、简洁的报告和仪表板使利益相关者了解进度和结果。

通过遵循这些步骤，你可以创建一个强大的验收测试策略。

- **自动化在验收测试中的角色是什么？**

自动化通过精简针对业务需求的验证过程，在验收测试中发挥着**至关重要的作用**。它能实现重复且一致的**[测试用例](/wiki/test-case)**执行，确保新功能或更动不会破坏现有功能。
- **提高效率**：减少运行测试所需的时间，特别是回归测试。
- **提高准确性**：最大限度地减少重复任务中的人为错误。
- **促进可扩展性**：在不按比例增加时间或资源的情况下，覆盖更多功能和场景。
- **支持 CI/CD**：允许自动化验收测试成为部署流水线的一部分。
- **实现更快的反馈循环**：向开发人员和利益相关者加速开发过程。
- **改进资源分配**：释放人工测试人员，专注于探索性测试等需要人类判断的领域。

自动化验收测试通常使用 **[BDD](/wiki/bdd)** 框架或领域特定语言 (DSL) 编写。

```gherkin
功能：用户登录
  场景：使用有效凭证成功登录
    假设 登录页面已显示
    当 用户输入有效凭证
    并且 用户提交登录表单
    那么 用户被重定向到仪表板
```

- **验收测试中存在哪些挑战，如何克服？**

验收测试面临几个挑战及应对策略：
- **需求模糊**：与利益相关者紧密合作。利用 **[BDD](/wiki/bdd)** 通过示例建立共同理解。
- **环境不匹配**：确保测试环境与生产环境一致。利用**基础设施即代码 (IaC)** 自动化环境**[搭建](/wiki/setup)**并保持一致性。
- **利益相关者沟通**：定期更新进度。实施演示环节和反馈循环。
- **[测试数据](/wiki/test-data)管理**：建立管理和生成准确反映生产场景数据的策略。利用数据脱敏和合成数据生成工具。
- **审慎自动化**：平衡手动和自动化测试。
- **处理不稳定性**：对**[不稳定测试 (Flaky tests)](/wiki/flaky-test)** 实施重试机制和根因分析。利用容器化提供一致的**[测试环境](/wiki/test-environment)**。

- **如何将验收测试集成到持续交付流水线中？**

将验收测试集成到**持续交付 (CD) 流水线**可确保新功能满足业务需求。步骤如下：
1. **自动化验收测试**：编写与用户故事对齐的自动化测试，利用 **[BDD](/wiki/bdd)** 框架。
2. **版本控制**：将测试案例与应用代码一同存放。
3. **CI 服务器配置**：配置 Jenkins、CircleCI 等触发验收测试。
4. **[测试环境](/wiki/test-environment)**：建立模拟生产的专用测试环境，利用 Terraform 或 Ansible 等 IaC 工具。
5. **并行执行**：利用 Docker 或 Kubernetes 等并行运行以减少时间。
6. **守门员机制**：仅在验收测试通过时才允许推进到下一阶段。
7. **反馈循环**：测试失败时向开发人员提供即时反馈。
8. **持续监控**：移除**[不稳定测试 (Flaky tests)](/wiki/flaky-test)** 并持续更新测试。
9. **部署决策**：利用测试结果做出明智的部署决策。

#### 工具与技术

- **验收测试常用哪些工具？**

常用工具包括：
- **[Cucumber](/wiki/cucumber)**：支持使用纯语言规格的 BDD。
- **[Selenium](/wiki/selenium)**：自动化浏览器，启用 Web 应用测试。
- **SpecFlow**：在领域专家和开发人员之间架起沟通桥梁。
- **FitNesse**：允许用户在表格和可执行规格中定义测试。
- **Robot Framework**：关键字驱动的方法。
- **JBehave**：Java 的 BDD 框架。
- **TestComplete**：提供 Web、移动和桌面测试的综合功能。
- **UFT (统一功能测试)**：广泛使用的功能和回归测试工具。
- **[Postman](/wiki/postman)**：简化 API 测试。
- **SoapUI**：测试 SOAP 和 REST Web 服务。

这些工具通过执行模拟用户行为或 **[API](/wiki/api)** 调用的自动化**[测试用例](/wiki/test-case)**来促进验证。

- **这些工具在验收测试过程中有何帮助？**

**[测试自动化](/wiki/test-automation)**工具通过实现**[测试用例](/wiki/test-case)**执行来精简验收测试过程。它们能：
- **减少重复手动测试的时间和精力**。
- **快速识别回归和缺陷**。
- **实现快速反馈**。
- **支持数据驱动测试**，增强**[测试覆盖率](/wiki/test-coverage)**。
- **提供清晰的文档**：测试成为验收标准的动态记录。
- **报告功能**：提供对测试结果的洞察。

- **不同验收测试工具的优缺点是什么？**

- **Cucumber**：优点是促进 BDD，使用 Gherkin 语言；缺点是需要理解 BDD。
- **[Selenium](/wiki/selenium)**：优点是支持多浏览器和多语言，高度灵活；缺点是配置复杂，执行较慢。
- **FitNesse**：优点是结合了 Wiki 文档和测试执行；缺点是学习曲线陡峭。
- **SpecFlow**：优点是与 .NET 集成；缺点是主要针对 .NET。
- **Robot Framework**：优点是关键字驱动，库丰富；缺点是语法可能不直观。
- **UFT**：优点是支持应用范围广，强大的 IDE；缺点是昂贵，不太适合敏捷/CI。

- **API 在验收测试中的角色是什么？**

**[API](/wiki/api)** 在验收测试中扮演着**至关重要的角色**，作为应用逻辑的**接口**。它们允许在无需 UI 的情况下验证系统行为，这对于**后端服务**特别有用。通过 API 可以验证：
- 系统针对输入是否**响应正确**。
- 是否遵守**业务规则**。
- **集成**是否按预期工作。
- **性能**是否达到基准。

API 能实现可靠且快速的自动化验收测试。它们提供了一个**抽象层**，使测试在 UI 频繁变动时仍能保持**更稳定且易维护**。

```javascript
// 基于 API 的验收测试伪代码示例
const response = await apiClient.createOrder(orderDetails);
assert(response.status, 201);
assert(response.data.orderId, expectedOrderId);
```

- **如何利用云技术进行验收测试？**

利用**云技术**带来诸多优势。云平台提供按需的**可扩展资源**，允许模拟真实流量和高负载，这对于验收测试中的**[负载测试](/wiki/load-testing)**非常有帮助。
- **[测试环境](/wiki/test-environment)可以快速且一致地复制**。
- **内置分析和监控功能**可以深入了解用户体验。
- **CI/CD 流水线可以得到增强**，实现自动部署和运行。
- **全球数据中心**允许在更靠近用户的位置进行测试，结果更准确。
- **成本节约**：按需付费。

#### 最佳实践

- **验收测试的最佳实践有哪些？**

包括：
- **定义清晰的验收标准**。
- **跨功能团队协作**。
- **优先考虑用户体验**。
- **保持测试的可维护性**。
- **适时自动化**。
- **使用类生产数据进行测试**。
- **执行[回归测试](/wiki/regression-testing)**。
- **监控性能和安全**。
- **对测试制品使用版本控制**。
- **持续精炼流程**。

- **如何随着时间的推移维护和更新验收测试？**

需要一种**结构化方法**：
- **定期评审[测试用例](/wiki/test-case)**。
- **重构测试**：保持代码整洁和**[可维护性](/wiki/maintainability)**。
- **版本控制**：跟踪**[测试脚本](/wiki/test-script)**变动。
- **[测试数据](/wiki/test-data)管理**。
- **尽可能自动化更新**。
- **与利益相关者协作**。
- **集成到 CI/CD 且持续监控**。
- **保持文档和反馈循环同步**。

- **文档在验收测试中的作用是什么？**

文档在验收测试中发挥着**至关重要的作用**，是理解和评估标准的基础。包括：
- **验收[测试计划](/wiki/test-plan) (ATP)**、**测试用例**和**[测试场景](/wiki/test-scenario)**。
- 从需求文档中派生出测试用例。
- **可追溯性矩阵**关联需求与测试，确保覆盖率。
- **[测试报告](/wiki/test-report)**记录结果和缺陷，帮助利益相关者做决策。

- **如何提高验收测试的效率？**

- **根据风险和业务影响确定[测试用例](/wiki/test-case)优先级**。
- **实施[测试数据](/wiki/test-data)管理**。
- **利用 [BDD](/wiki/bdd) 框架**。
- **并行化测试**。
- **重用测试组件 (DRY 原则)**。
- **Mock 外部依赖**。
- **优化[测试环境](/wiki/test-environment)设置 (Docker)**。
- **定期评审和重构测试**。
- **监控和分析测试结果**。

- **如何有效地沟通验收测试的结果？**

涉及清晰、简洁且可操作的报告：
- **仪表板**提供实时状态，包括通过率和**[测试覆盖率](/wiki/test-coverage)**。
- **自动化报告**包含**[测试用例](/wiki/test-case)**描述、**[预期结果](/wiki/expected-result)**和**[实际结果](/wiki/actual-result)**。
- **视觉辅助**（图表）。
- **通知系统**提供即时警报。
- **缺陷管理系统 ([JIRA](/wiki/jira))**。
- **可访问的测试结果**。
- **定期会议评审**结果和**[不稳定测试 (Flaky tests)](/wiki/flaky-test)**。
- 维护**动态文档** (Wiki)。
