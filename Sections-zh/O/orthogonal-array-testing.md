# 正交数组测试 (Orthogonal Array Testing)
[Orthogonal Array Testing](#orthogonal-array-testing) [测试用例 (test cases)](/wiki/test-case)

## 关于正交数组测试的常见问题？

#### 基础与重要性
- **什么是正交数组测试 (OAT)？**
  正交数组测试 (Orthogonal Array Testing, OAT) 是一种系统的、统计性的测试方法，用于测试**成对交互 (pair-wise interactions)**，以识别影响系统性能的因素。它基于组合设计理论中的正交表，确保每对参数至少一起测试一次。
  **实施步骤：**
  1. 识别参数及其可能的值（水平）。
  2. 选择合适的正交表。
  3. 将测试参数映射到表中。
  4. 按表中的组合执行测试。
  **示例**：对于一个有 3 个字段且每个字段有 3 个可能值的 Web 表单，正交表可以将 27 (3x3x3) 个**测试用例**减少到仅 9 个。
  **工具**：Hexawise 或 Orthogonal Array Tool 等可以帮助生成表和测试用例。
  **优势**：显著减少测试用例数量，同时有效覆盖交互。
  **劣势**：可能错过成对交互之外的特定缺陷，需要统计学基础。

- **为什么正交数组测试在软件测试中很重要？**
  它能以**最小的测试用例集**优化**测试覆盖率**。通过组合测试方法，它确保覆盖变量的所有可能交互，从而识别传统方法可能忽略的缺陷。
  对于自动化工程师，OAT 可以显著**节省时间和资源**，特别是在处理大量变量和配置时。它能以极高的效率识别组件间不可预测的冲突。

- **正交数组测试的关键原则是什么？**
  基于**组合优化**原则。核心包括：
  - **变异控制**：选择代表性数值覆盖测试空间。
  - **平衡比例**：确保每个参数被平等测试。
  - **系统抽样**：以最少冗余实现最大覆盖。
  - **正交性 (Orthogonality)**：确保测试用例在统计上相互独立，提供无偏覆盖。
  - **降维 (Dimensionality Reduction)**：简化测试过程而不牺牲严密性。

- **正交数组测试与其他测试方法有何不同？**
  主要在于其**系统抽样方法**。传统方法（如边界值、等价类）关注特定条件，而 OAT 关注变量间的组合。与探索性测试（依赖直觉）不同，OAT 依赖数学结构。与穷举测试（不切实际）相比，它选择最具代表性的子集。

#### 实施步骤
1. **识别参数 (Factors)**：确定影响系统功能的输入、配置或条件。
2. **确定水平 (Levels)**：为每个因素定义可能的值或状态。
3. **选择正交表 (OA)**：根据参数和水平数量选择最简练的表。
4. **映射测试用例**：将因素和水平填入表，生成执行集。
5. **执行与分析**：由于结构的结构性，故障隔离通常更容易。
6. **迭代优化**：根据发现微调表或补充用例。

#### 工具与场景
- **常用工具**：
  - **Hexawise**: 强大的 Web 端组合测试工具。
  - **PICT (Microsoft)**: 命令行工具，通过模型生成用例。
  - **ACTS (NIST)**: 先进的组合测试系统。
  - **Jenny / TConfig**: 辅助生成组合的轻量工具。

- **典型场景**：
  **配置测试 (Configurations testing)** 是最受益的领域。例如测试 Web 应用在 3 种浏览器、2 种操作系统和 2 种网络环境下的表现，原本需要 12 个用例，利用 OAT 可以压缩到更少，且确保每种浏览器都在每种系统和网络下跑过。

#### 优缺点分析
- **优点**：高效覆盖、结构化抽样、缩短执行时间、降低成本、支持风险驱动测试、易于与自动化集成（符合 CI/CD 和 DevOps 实践）。
- **缺点**：设计复杂、对高阶交互（3 路以上）覆盖有限、不适合流程/状态机测试、难以找到完美契合所有水平的现有正交表。

#### 进阶概念
- **集成**：OAT 常与**等价类划分**结合使用，以进一步优化输入空间。
- **扩展**：可以使用**可变强度交互测试**，针对特定重要部分采用 3 路或 4 路交互覆盖。
- **伸缩性**：在大型项目中，通过**模块化测试用例**、**并行测试**和**自动化管理工具**来扩展 OAT 的应用规模。
