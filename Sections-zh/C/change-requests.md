# 变更请求 (Change Requests)

[变更请求 (Change Requests)](#change-requests)[变更请求](/wiki/change-requests)

### 相关术语：
- [变更控制 (Change Control)](/glossary/change-control)

## 关于变更请求的问题？

#### 基础与重要性

- **软件开发中的变更请求是什么？**
软件开发中的**变更请求 (change request)** 是对项目任何方面进行改动的正式提议。这可能涉及对代码、设计、架构甚至需求本身的修改。变更请求源自各种渠道，如利益相关者、项目团队成员或客户，必须评估它们对项目时间表、预算和资源的影响。

提交变更请求时，通常包含对拟议变更的详细描述、背后的理由以及对当前系统或产品的任何潜在影响。它对于保持项目与业务目标一致、确保产品质量以及适应不断变化的需求至关重要。

变更请求不仅仅是添加新功能；它们也可以是修复缺陷、删除功能或进行改进。一旦变更请求获得批准，它就成为项目范围的一部分，必须进行相应管理。

在**测试自动化 (test automation)** 的背景下，变更请求可能导致**测试用例 (test cases)**、**测试脚本 (test scripts)** 和自动化框架的更新。测试人员必须敏捷，并准备好更新其**测试套件 (test suites)**，以确保它们继续覆盖修改后的需求并维护测试过程的完整性。

- **为什么变更请求在项目中很重要？**
变更请求在项目中对于在利益相关者不断变化的需求与项目交付物之间**保持一致性**至关重要。它们作为提议调整产品的正式方法，无论是功能添加、修改还是删除。

通过记录和跟踪这些请求，团队可以确保对变更进行**系统评估**并将其**协调集成**到项目计划中。这有助于维护项目的**完整性 (integrity)** 和**可追溯性 (traceability)**，确保每项改动都合理且符合业务目标。

此外，变更请求促进了团队成员、利益相关者和客户之间的**沟通**，从而清晰理解所提变更及其潜在影响。这种透明度对于**管理预期**和**获得各方支持**至关重要。

在测试自动化的背景下，变更请求可能导致测试脚本、框架和策略的更新。测试人员必须敏捷，准备好**调整其测试套件**以反映这些变更，确保软件继续针对更新后的需求进行彻底测试。

有效处理变更请求还有助于**持续改进**。通过分析变更的性质和频率，团队可以识别模式和流程改进领域，从而在未来实现更**高效的开发**和测试周期。

- **处理变更请求的典型流程是什么？**
当收到变更请求时，在软件测试自动化的背景下，典型处理流程包括以下步骤：
1. **审查 (Review)**：检查请求以了解拟议的变更及其对现有测试套件的影响。
2. **影响分析 (Impact Analysis)**：评估变更将如何影响当前的自动化框架、测试用例和测试数据。
3. **估算 (Estimation)**：估算在测试自动化环境中实施该变更所需的投入。
4. **批准 (Approval)**：如果估算的投入符合项目优先级，从相关利益相关者（可能包括变更控制委员会）处获得批准。
5. **更新测试策略 (Update Test Strategy)**：修改测试策略以纳入变更，确保识别并应对新风险。
6. **实施变更 (Implement Changes)**：更新自动化代码库，可能涉及修改现有脚本、创建新脚本或更新测试数据。
7. **测试 (Testing)**：执行更新后的测试，以验证它们在变更后能按预期工作。
8. **评审与文档记录 (Review & Documentation)**：评审测试结果是否存在异常，并更新文档以反映对测试自动化套件所做的更改。
9. **沟通 (Communication)**：将所做的更改、测试结果以及对发布计划的任何潜在影响告知利益相关者。
10. **监控 (Monitor)**：变更部署后，继续监控测试结果，以确保变更未引入新问题。

在这一过程中，与开发团队和其他利益相关者保持清晰沟通至关重要，以确保测试自动化工作与项目不断演变的需求保持一致。

- **变更请求如何影响项目范围？**
变更请求通过引入新功能、修改现有功能或删除需求，可以显著**改变项目范围**。这些变更可能导致：
- **工作量增加 (Increased workload)**：需要设计新测试用例，现有测试用例可能需要重新评估或废弃。
- **资源重新分配 (Resource reallocation)**：可能需要额外的人员或工具来应对扩大的范围。
- **进度调整 (Timeline adjustments)**：可能需要延长最后期限以涵盖额外的测试工作。
- **预算影响 (Budget implications)**：更多的测试工时和资源意味着成本增加。
- **范围蔓延 (Scope creep)**：如果没有妥善管理，持续的变更请求会导致项目范围不受控制地增长。

测试自动化工程师必须敏捷，准备好**更新自动化测试脚本**并**重新优化测试用例优先级**，以对齐修订后的项目范围。高效的变更管理可确保测试自动化策略在需求演变的情况下依然保持相关性和有效性。

- **变更控制委员会在管理变更请求中的作用是什么？**
**变更控制委员会 (CCB)** 是一组负责审查、评估以及批准或拒绝变更请求的利益相关者。在测试自动化的背景下，CCB 在确保变更符合项目目标且不引入过度风险方面发挥着关键作用。

提交变更请求时，CCB：
- **评估 (Assesses)** 拟议变更对现有测试自动化框架和脚本的影响。
- **判定 (Determines)** 该变更相对于项目目标和约束的必要性。
- **优先级排序 (Prioritizes)** 变更请求，基于紧急程度、重要性和资源可用性等因素。
- **决策 (Decides)** 批准或拒绝变更，确保每项决策都有详尽记录并传达给相关方。

对于测试自动化工程师，CCB 的决策直接影响：
- **测试策略调整**：包括自动化测试的添加、修改或删除。
- **资源分配**：变更可能需要工作重心的转移或投入额外精力进行实施与验证。
- **计划安排**：纳入新变更会影响时间表和交付里程碑。

通过管理变更请求，CCB 有助于维护测试自动化过程的完整性并最大限度减少干扰，确保测试保持有效且与项目目标一致。

#### 变更请求管理

变更请求管理包含几个关键步骤，以确保有系统地处理修改：
1. **提交 (Submission)**：提交正式变更请求，详细说明拟议变更、理由和潜在影响。
2. **记录 (Logging)**：将请求记录到变更管理系统或追踪器中，以便记录和追溯。
3. **初审 (Review)**：进行初步审查，判定请求是否有效且符合项目目标。
4. **分析 (Analysis)**：详细分析以评估对项目的影响，包括时间线、资源和成本。
5. **批准 (Approval)**：**变更控制委员会 (CCB)** 或授权的利益相关者审查分析结果，并决定批准、拒绝或要求提供更多信息。
6. **计划 (Planning)**：如果批准，则计划该变更，包括更新项目计划、进度安排和文档。
7. **实施 (Implementation)**：将变更实施到项目工作流中，确保通知所有团队成员并具备处理修改的能力。
8. **测试 (Testing)**：对变更进行彻底测试，以确保符合需求且未引入新问题。
9. **文档记录 (Documentation)**：记录所有变更和结果，包括对**测试用例**和用户手册的更新。
10. **关闭 (Closure)**：变更完全集成并稳定后，在追踪系统中正式关闭该请求。

在这些步骤中，沟通对于让所有利益相关者知情并参与其中至关重要。测试自动化工程师必须调整其**测试套件**和策略以适应这些变更，确保软件继续符合质量标准。

有效的变更请求管理可以**简化利益相关者之间的沟通**，确保每个人对项目修改达成共识。它有利于变更的**优先级排序**，让团队专注于最重要的事项并避免范围蔓延。通过保留请求和决策的清晰记录，它促进了对项目审计和项目后评估至关重要的**问责制**和**可追溯性**。

在测试自动化背景下，高效管理变更请求可以产生**更稳健且灵活的测试套件**。测试人员可以**预见**并以最小的干扰**适配**变更，从而维护测试流程的完整性。这还有助于**优化资源**，团队可以将精力分配到受变更影响最大的项目区域。

此外，管理良好的变更请求可以确保所有修改都经过测试并符合项目质量标准，从而**提高产品质量**。它通过整合反馈并从每次变更中学习，支持**持续改进**，从而打造更完善、更稳定的产品。

最后，它可以通过及早发现潜在问题（在修复成本变得高昂之前）来**减少返工**，并有助于为项目团队保持**可持续的节奏**，防止倦怠和人员流失。

常用的变更请求管理工具包括：
- **JIRA**：广泛用于跟踪问题和变更，提供可定制的工作流。
- **TFS (Team Foundation Server)**：微软的解决方案，涵盖源代码管理、需求管理、构建、测试和发布管理。
- **ServiceNow**：提供带有变更管理能力的 IT 服务管理软件，常用于大型组织。
- **GitLab**：在单一应用中提供整个 DevOps 生命周期，包括变更管理功能。
- **GitHub**：通过其问题跟踪功能管理变更请求。
- **Asana**：一种可以通过任务分配和进度更新来适配变更请求跟踪的项目管理工具。
- **Rally (原 CA Agile Central)**：专注于敏捷项目管理，跟踪整个开发过程中的变更和功能。
- **VersionOne**：全方位敏捷项目管理工具，支持将变更请求管理作为其功能集的一部分。

这些工具帮助自动化变更请求过程，确保变更得到有系统的记录、审查和实施。它们通常包含分配任务、设置优先级和跟踪进度的功能。与测试自动化工具和 CI/CD 流水线的集成也是常见功能，这有助于使测试活动与变更请求保持一致。

测试自动化中管理变更请求的最佳实践包括：
- **确定优先级**：根据影响和紧急程度对变更进行排序。
- **更新文档**：及时更新文档以反映新需求。
- **传达变更**：告知所有利益相关者，以保持透明度。
- **重新评估测试用例**：判定哪些测试用例受影响并需要更新。
- **版本控制**：对测试脚本及相关产物使用版本控制。
- **自动化回归测试**：快速评估变更对现有功能的影响。
- **集成 CI/CD**：将变更管理与 CI/CD 流水线集成。
- **分配返工时间**：在迭代计划中为更新测试预留时间。
- **执行影响分析**：了解变更对当前测试套件和整个项目的连锁反应。
- **使用标准模板**：采用统一模板提交请求。
- **评审与重构**：定期评审并重构自动化代码以保持灵活性。

遵循这些实践，测试自动化工程师可以维护一个稳健且适应性强的框架，高效处理变更请求。

变更请求管理通过确保对任何项目改动进行系统评估和实施，在**风险缓解**中起着关键作用。这有助于在早期识别与变更相关的潜在风险。提交请求时，会进行**深入的影响分析**，研究变更如何影响现有系统、依赖关系、进度和资源，从而预见并缓解范围蔓延、预算超支和进度延迟等风险。

此外，变更请求管理确保所有变更都被**记录和跟踪**，提供清晰的审计追踪，这对于分析变更是否成功至关重要，并有助于减少误解和错误。在测试自动化中，它有助于维护**测试套件的完整性**。随着变更获批，有系统地调整测试用例可以防止**测试覆盖率**出现缺口，并降低缺陷漏向生产环境的风险。

#### 变更请求与测试

变更请求会显著改变测试自动化版图。当变更请求获批时，**测试用例**可能需要**更新**或创建**新用例**以覆盖功能变化。这可能导致维护测试脚本的额外工作。

自动化测试必须经过**评审**，以确保它们仍能验证正确的业务逻辑。如果变更影响了**用户界面**、**API** 或**业务逻辑**，自动化代码中相应的**选择器 (selectors)**、**端点 (endpoints)** 或**验证检查**都需修改。

此外，变更请求可以引入**新路径**，需要开发**新测试场景**。这会增加**测试套件**的**复杂度**和运行时间，可能影响 CI/CD 流水线的**速度**。

为管理这些影响，测试自动化工程师应：
- 保持**模块化**和**可重用**的测试代码。
- 使用**版本控制**。
- 实施**健壮的日志记录**。
- 将**测试维护**确定为迭代中的优先级。

本质上，变更请求需要一种**灵活建议**且**自适应**的测试自动化策略。

测试人员在处理变更请求中起着关键作用。他们必须：
- **评审 (Review)** 请求。
- **评估 (Assess)** 对现有用例的影响。
- **更新 (Update)** 或**创建 (create)** 测试脚本。
- **执行 (Execute)** 回归测试。
- **沟通 (Communicate)** 风险。
- **记录 (Document)** 结果。
- **参与 (Participate)** 进度重新评估。

测试人员必须**主动**且具**适应性**，利用**自动化工具**快速重新运行受影响用例。有效处理变更请求对维护**软件质量**至关重要。

变更请求通过强制更新**测试用例**、**测试脚本**和**测试数据**，显著影响**测试计划**。批准后，需重新审视测试计划以确保覆盖范围。自动化测试框架和持续集成系统也需进行调整。
例如：
```javascript
// 变更请求前
test('验证登录', async () => {
  await page.type('#username', 'user1');
  await page.type('#password', 'pass1');
  await page.click('#login-button');
  expect(await page.find('.welcome-message').textContent).toBe('欢迎, user1!');
});

// 变更请求后
test('通过 OTP 验证登录', async () => {
  await page.type('#username', 'user2');
  await page.type('#password', 'pass2');
  await page.click('#login-button');
  // OTP 的新步骤
  await page.type('#otp', '123456');
  await page.click('#otp-submit');
  expect(await page.find('.welcome-message').textContent).toBe('欢迎, user2!');
});
```

测试人员通过深入评审请求、更新**测试计划**（移除过时测试）、根据风险**确定优先级**、自动化回归测试、与团队沟通、执行**子集测试**以及维护灵活模块化的框架来**自适应其策略**。

测试自动化的挑战包括：
- **测试脚本维护**：通过**模块化测试设计**和**页面对象模型 (page object models)** 解决。
- **覆盖缺口**：通过定期**更新测试用例**解决。
- **资源限制**：通过**确定测试用例优先级**和使用**测试用例管理工具**解决。
- **回归风险**：通过彻底的**回归测试**和持续集成应对。
- **数据管理**：使用**数据驱动测试**。
- **沟通中断**：保持**清晰沟通**并确保**文档及时更新**。
- **环境不一致**：利用**容器化**和**基础设施即代码**。

通过保持敏捷、使用**版本控制**和**自动化部署**，工程师可以缓解这些挑战。
