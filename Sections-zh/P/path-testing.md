# 路径测试 (Path Testing)
[Path Testing](#path-testing) [路径测试 (Path Testing)](/wiki/path-testing)

## 关于路径测试的常见问题？

#### 基础与重要性
- **什么是软件测试中的路径测试？**
  路径测试是一种**白盒测试**技术，涉及执行单元或模块内所有可能的路径。它基于**圈复杂度 (Cyclomatic Complexity)** 指标，旨在确保所有线性独立的路径至少被执行一次，从而发现其他测试方法可能遗漏的隐藏**缺陷 (Bugs)**。
  工程师通常使用**控制流图 (Control Flow Graph, CFG)** 来可视化并识别路径，然后编写**测试用例**来遍历这些路径（包括循环、条件语句和分支）。

- **为什么路径测试很重要？**
  - **识别隐藏缺陷**：通过遍历每个路径，测试人员可以发现可能导致失败的边缘情况。
  - **确保代码质量**：验证逻辑和应用流程的鲁棒性。
  - **提高测试覆盖率**：量化代码被执行的程度，通常高覆盖率意味着低缺陷率。
  - **支持重构**：为开发者提供安全网，确保逻辑修改不引入回归。
  - **符合标准**：在安全关键系统（如航空或金融）中，往往要求进行详尽的路径测试。

- **路径测试的关键原则**：
  - **覆盖率**：实现最大化的路径覆盖。
  - **复杂性管理**：将软件分解为可测试的单元。由于完全测试所有路径不可行，需基于风险和缺陷历史确定优先级。
  - **独立性**：独立测试每个路径以隔离缺陷。
  - **自动化与维护**：集成到 CI/CD 流水中，并随软件演进定期更新。

- **路径测试与其他测试类型的区别**：
  路径测试专注于代码的逻辑复杂性和内部结构。相比之下，**单元测试**关注独立功能，**集成测试**关注模块间的协作，而**系统测试**和**验收测试**则从更高维度或用户视角验证需求。

#### 技术与策略
- **常用技术**：
  - **控制流测试**：遍历所有决策点。
  - **数据流测试**：关注变量定义与使用之间的路径。
  - **循环测试**：针对循环的 0、1、2 及多次迭代。
  - **分支测试**：确保 if 语句的 True 和 False 分支均被执行。
  - **边界测试**：执行循环构造的边界值。
  - **错误猜测与组合测试**：基于经验或算法生成输入。

- **如何确定测试路径？**
  分析控制流、评审代码实现（循环、条件、异常处理）、审视用户场景、并利用静态分析工具识别复杂区域。

- **自动化路径测试**：
  1. 使用 JaCoCo (Java) 或 Istanbul (JS) 等工具生成控制流图并计算复杂度。
  2. 编写针对特定路径的测试脚本（如 JUnit、Mocha）。
  3. 执行断言验证预期输出。
  4. 整合到 Jenkins 或 GitHub Actions 等 CI/CD 工具中。

#### 进阶概念
- **圈复杂度 (Cyclomatic Complexity)**：由 Thomas J. McCabe 开发，公式为 `M = E - N + 2P`（E 边数，N 节点数，P 连通分量数）。它决定了确保所有代码被执行所需的**最小路径数**。
- **基本路径测试 (Basis Path Testing)**：一种确保所有决策点均被评估的白盒技术。
- **安全测试中的作用**：有助于发现提权、注入缺陷和竞争条件，确保访问控制机制在各种序列下均有效。
- **故障演练 (Fault Tolerance)**：虽然路径测试不直接构建容错，但它揭示了软件在异常输入下的脆弱点，助力开发者改进错误处理流程。

#### 实际应用
广泛应用于金融银行交易流水、医疗数据处理、电子商务支付网关、航空航天控制软件及操作系统内核模块验证。
