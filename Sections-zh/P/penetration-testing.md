# 渗透测试 (Penetration Testing)
[Penetration Testing](#penetration-testing) [渗透测试 (Penetration Testing)](/wiki/penetration-testing)

## 关于渗透测试的常见问题？

#### 基础与重要性
- **什么是渗透测试？**
  渗透测试（通常称为 **Pen Testing** 或**黑客伦理**）是对计算机系统进行的模拟网络攻击，旨在检查可利用的漏洞。在 Web 应用安全背景下，它通常用于增强 **Web 应用防火墙 (WAF)**。
  渗透测试员使用与攻击者相同的工具、技术和流程来发现并展示系统弱点对业务的影响。它是验证组织安全措施有效性的关键组成部分。

- **为什么渗透测试很重要？**
  - **主动识别漏洞**：在被恶意利用之前修复漏洞。
  - **模拟真实威胁**：揭示安全防御中的弱点，防止数据泄露、经济损失和名誉受损。
  - **合规性**：确保符合行业法规和标准。
  - **评估弹性**：超越自动扫描，评估人为因素和复杂攻击矢量的影响。

- **渗透测试有哪些不同类型？**
  - **外部渗透测试**：针对互联网可见资产（如官网、外网服务器）。
  - **内部渗透测试**：模拟内鬼攻击或越过边界后的内部风险。
  - **黑盒测试 (Blind Testing)**：测试员在毫无先前信息的情况下模拟攻击。
  - **双黑盒测试 (Double Blind)**：安全团队和测试员均不知情，测试实时响应能力。
  - **社会工程层渗透测试**：利用操纵手段获取敏感信息。
  - **物理渗透测试**：测试锁、监控、感应器等物理屏障。

- **渗透测试与漏洞评估 (Vulnerability Assessment) 的区别**：
  - **漏洞评估**：范围广、非侵入式，旨在生成已知漏洞清单，通常依赖自动扫描。
  - **渗透测试**：范围窄、侵入式，通过模拟攻击来尝试挖掘漏洞深度、提权并评估实际风险。

#### 实施方法论
- **渗透测试的阶段**：
  1. **计划与侦察**：定义范围，收集目标情报。
  2. **扫描**：使用 Nmap 或 Nessus 等工具了解网络特征。
  3. **获取权限**：利用 **SQL 注入**、**XSS** 等手段尝试突破。
  4. **维持权限**：建立持久化存在（如后门），了解可维持的访问深度。
  5. **分析与 WAF 配置**：根据攻击模式调整防御策略。
  6. **报告**：整理漏洞详情及修复建议。
  7. **修复跟进**：在组织解决问题后进行**回归测试 (Retesting)**。

- **什么是“杀伤链” (Kill Chain)？**
  借用军事概念，描述攻击的阶段：侦察 -> 武器化 -> 交付 -> 漏洞利用 -> 安装 -> 命令与控制 (C2) -> 达成目标。它帮助测试员结构化地识别每个环节的防御缺口。

#### 工具与技术
- **常用工具**：
  - **Metasploit**：漏洞开发与渗透测试框架。
  - **Nmap**：网络映射与端口发现。
  - **Burp Suite**：集成的 Web 应用安全测试平台。
  - **SQLmap**：自动检测并利用 SQL 注入漏洞。
  - **Wireshark**：网络协议分析器。

#### 伦理与法律
- **必需的合规措施**：
  - **授权**：必须在测试前获得系统所有者的明确书面许可。
  - **保密协议 (NDA)**：保护测试中发现的敏感信息。
  - **“免死金牌” (Get out of jail free card)**：证明测试合法性的授权文件，以备执法部门查询。
  - **隐私尊重**：仅访问测试所必需的数据。

#### 报告与修复
- **报告内容**：包含执行摘要（面向管理层）、技术详情、证据（截图/日志）、风险评分（如 **CVSS** 标准）以及修复建议。
- **频率建议**：基准是**至少每年一次**，但在重大基础设施变更、应用更新或出现新威胁时，应增加测试频率。
