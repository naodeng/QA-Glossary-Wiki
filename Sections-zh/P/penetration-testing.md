# 渗透测试

<!-- TOC START -->
- [另请参阅：](#另请参阅：)
- [有关渗透测试的问题吗？](#有关渗透测试的问题吗？)
  - [基础知识和重要性](#基础知识和重要性)
    - [什么是渗透测试？](#什么是渗透测试？)
    - [为什么渗透测试很重要？](#为什么渗透测试很重要？)
    - [渗透测试有哪些不同类型？](#渗透测试有哪些不同类型？)
    - [渗透测试如何融入整体安全策略？](#渗透测试如何融入整体安全策略？)
    - [渗透测试和漏洞评估有什么区别？](#渗透测试和漏洞评估有什么区别？)
  - [方法论](#方法论)
    - [渗透测试有哪些阶段？](#渗透测试有哪些阶段？)
    - [黑盒、白盒和灰盒渗透测试有什么区别？](#黑盒、白盒和灰盒渗透测试有什么区别？)
    - [社会工程在渗透测试中的作用是什么？](#社会工程在渗透测试中的作用是什么？)
    - [渗透测试中的“杀伤链”是什么？](#渗透测试中的杀伤链是什么？)
  - [工具和技术](#工具和技术)
    - [渗透测试中常用的工具有哪些？](#渗透测试中常用的工具有哪些？)
    - [自动化工具在渗透测试中的作用是什么？](#自动化工具在渗透测试中的作用是什么？)
    - [渗透测试中常用的技术有哪些？](#渗透测试中常用的技术有哪些？)
    - [渗透测试期间如何利用漏洞？](#渗透测试期间如何利用漏洞？)
  - [道德与法律](#道德与法律)
    - [渗透测试中的道德考虑因素有哪些？](#渗透测试中的道德考虑因素有哪些？)
    - [渗透测试的法律考虑因素有哪些？](#渗透测试的法律考虑因素有哪些？)
    - [渗透测试中“权限”的作用是什么？](#渗透测试中权限的作用是什么？)
    - [渗透测试中的“免狱”卡是什么？](#渗透测试中的免狱卡是什么？)
  - [报告和补救](#报告和补救)
    - [渗透测试报告中应包含哪些内容？](#渗透测试报告中应包含哪些内容？)
    - [应如何将渗透测试的结果传达给利益相关者？](#应如何将渗透测试的结果传达给利益相关者？)
    - [修复渗透测试中发现的漏洞的过程是什么？](#修复渗透测试中发现的漏洞的过程是什么？)
    - [渗透测试应该多久进行一次？](#渗透测试应该多久进行一次？)
<!-- TOC END -->

（又名渗透测试、道德黑客攻击）

渗透测试

是一种网络安全实践，训练有素的专业人员模拟对系统、网络或应用程序的网络攻击，以识别可能被恶意行为者利用的漏洞。主要目标

渗透测试

是从攻击者的角度发现安全弱点，从而使组织能够更好地了解潜在风险，并在实际恶意攻击发生之前采取纠正措施。渗透测试可以是手动的或自动的，通常根据其范围和测试人员的知识水平进行分类，例如黑盒（测试人员对系统的了解有限）或白盒（测试人员对系统有完整的了解）。

## 另请参阅：

- [Wikipedia](https://en.wikipedia.org/wiki/Penetration_test)

## 有关渗透测试的问题吗？

### 基础知识和重要性

#### 什么是渗透测试？

[Penetration testing](../P/penetration-testing.md)，通常称为**笔测试**或**道德黑客**，是针对您的计算机系统的模拟网络攻击，以检查可利用的漏洞。在 Web 应用程序安全上下文中，[penetration testing](../P/penetration-testing.md) 通常用于增强 Web 应用程序防火墙 (WAF)。
  渗透测试人员使用与攻击者相同的工具、技术和流程来查找和演示系统中的弱点对业务的影响。它是[verification](../V/verification.md) 组织安全措施有效性的关键组成部分。
  虽然自动化工具可以扫描某些类型的漏洞，但它们无法取代人类测试人员的直觉和适应性。渗透测试人员经常使用自动化工具来查找各种漏洞，然后手动利用它们来确认它们的存在。
  目标不仅是发现安全弱点，而且是测试组织的事件响应能力并收集有助于改进攻击检测和响应的数据。
  渗透测试通常使用手动或自动技术来执行，以系统地危害服务器、端点、Web 应用程序、无线网络、网络设备、移动设备和其他潜在暴露点。
  在特定系统上成功利用漏洞后，测试人员可能会尝试使用受感染的系统对其他内部资源发起后续攻击，特别是尝试通过权限升级逐步实现更高级别的安全许可和对电子资产和信息的更深入访问。
  **记录结果**并提供可行的补救策略是帮助组织改善安全状况的关键最后一步。

#### 为什么渗透测试很重要？

[Penetration testing](../P/penetration-testing.md) 至关重要，因为它**主动识别并帮助缓解安全漏洞**，防止它们被恶意行为者利用。它模拟现实世界的攻击，揭示安全防御的弱点，如果不加以解决，可能会导致**数据泄露、财务损失和声誉受损**。通过发现和解决这些漏洞，组织可以**加强其安全态势**并**确保遵守**行业法规和标准。
  此外，[penetration testing](../P/penetration-testing.md) 还提供了针对网络威胁的系统弹性的**实际评估，超越自动漏洞扫描来评估**人为因素**和复杂攻击向量的影响。它有助于了解**现有安全控制的实际有效性**，并可以发现自动化工具可能遗漏的**链漏洞**。
  从渗透测试中获得的见解使组织能够就在何处分配资源以提高安全性做出**明智的决策**。它还有助于**教育和培训**员工了解潜在的安全威胁以及遵循最佳实践的重要性。
  从本质上讲，[penetration testing](../P/penetration-testing.md) 是全面安全策略的关键组成部分，提供**深入评估**，确保系统免受不断变化的网络威胁的影响。这是维护信息资产的**完整性、保密性和可用性**不可或缺的做法。

#### 渗透测试有哪些不同类型？

不同类型的[penetration testing](../P/penetration-testing.md) 侧重于组织安全状况的各个方面：

- **外部[Penetration Testing](../P/penetration-testing.md)**：针对互联网上可见的公司资产，例如Web应用程序本身、公司网站和外部网络服务器。
  - **内部[Penetration Testing](../P/penetration-testing.md)**：模拟内部攻击或通过突破边界的攻击，以评估员工或公司网络内受损系统的潜在损害。
  - **盲目[Penetration Testing](../P/penetration-testing.md)**：在测试开始之前，测试人员只获得有限的信息或没有任何信息，密切模拟现实世界入侵者的攻击。
  - **双盲[Penetration Testing](../P/penetration-testing.md)**：安全人员和测试人员都事先不了解计划中的攻击，测试实时响应能力。
  - **有针对性的[Penetration Testing](../P/penetration-testing.md)**：测试人员和安全团队一起工作并互相通报情况，从安全培训的角度提供有价值的见解。
  - **无线[Penetration Testing](../P/penetration-testing.md)**：专注于公司的无线网络设备，以查找可能允许未经授权访问的漏洞。
  - **社会工程[Penetration Testing](../P/penetration-testing.md)**：涉及获取敏感信息、访问或未经授权使用系统的操纵技术。
  - **物理[Penetration Testing](../P/penetration-testing.md)**：测试物理屏障，如锁、传感器、摄像头和其他物理安全控制，以评估未经授权的物理访问的可能性。
  - **客户端[Penetration Testing](../P/penetration-testing.md)**：针对客户端应用程序（例如网络浏览器和电子邮件客户端）中的漏洞，这些漏洞可被利用以获得未经授权的访问。
  - **云[Penetration Testing](../P/penetration-testing.md)**：特定于云服务和基础设施，用于识别基于云的系统和应用程序中的安全缺陷。
  每种类型的测试都是为了解决特定的安全问题而设计的，并且需要不同的方法、技术和工具才能有效地进行。

- **外部[Penetration Testing](../P/penetration-testing.md)**：针对互联网上可见的公司资产，例如Web应用程序本身、公司网站和外部网络服务器。
  - **内部[Penetration Testing](../P/penetration-testing.md)**：模拟内部攻击或通过突破边界的攻击，以评估员工或公司网络内受损系统的潜在损害。
  - **盲目[Penetration Testing](../P/penetration-testing.md)**：在测试开始之前，测试人员只得到有限的信息或没有任何信息，密切模拟现实世界入侵者的攻击。
  - **双盲[Penetration Testing](../P/penetration-testing.md)**：安全人员和测试人员都事先不了解计划中的攻击，测试实时响应能力。
  - **有针对性的[Penetration Testing](../P/penetration-testing.md)**：测试人员和安全团队一起工作并互相通报情况，从安全培训的角度提供有价值的见解。
  - **无线[Penetration Testing](../P/penetration-testing.md)**：专注于公司的无线网络设备，以查找可能允许未经授权访问的漏洞。
  - **社会工程[Penetration Testing](../P/penetration-testing.md)**：涉及获取敏感信息、访问或未经授权使用系统的操纵技术。
  - **物理[Penetration Testing](../P/penetration-testing.md)**：测试物理屏障，如锁、传感器、摄像头和其他物理安全控制，以评估未经授权的物理访问的可能性。
  - **客户端[Penetration Testing](../P/penetration-testing.md)**：针对客户端应用程序（例如网络浏览器和电子邮件客户端）中的漏洞，这些漏洞可被利用以获得未经授权的访问。
  - **云[Penetration Testing](../P/penetration-testing.md)**：特定于云服务和基础设施，用于识别基于云的系统和应用程序中的安全缺陷。

#### 渗透测试如何融入整体安全策略？

[Penetration testing](../P/penetration-testing.md) 作为一种**主动措施**集成到整体安全策略中，以在漏洞被攻击者利用之前识别和修复漏洞。它通过提供**人类视角**来补充自动化安全工具，可以发现自动化工具无法发现的复杂安全问题。 [Penetration testing](../P/penetration-testing.md) 应被视为深度防御策略的**关键组成部分**，通过多种防御策略提供**分层的安全方法**。
  在软件 [test automation](../T/test-automation.md) 的上下文中，[penetration testing](../P/penetration-testing.md) 可以在 **CI/CD 管道** 内定期安排，以确保新代码提交不会引入安全漏洞。它充当执行自动安全扫描后的**最终检查**，提供**真实的攻击模拟**，可以验证现有安全措施的有效性。
  通过识别和解决安全漏洞，[penetration testing](../P/penetration-testing.md) 有助于维护软件的**完整性、机密性和可用性**，这对于保护组织及其用户至关重要。从渗透测试中获得的见解可以指导**安全策略更新**、**培训计划**和**事件响应计划**。
  最终，[penetration testing](../P/penetration-testing.md) 是关于**信任和保证** - 确保利益相关者在保护应用程序方面已经进行了尽职调查，并且软件可以抵御复杂的攻击。这是在不断变化的威胁环境中保持稳健的安全态势的重要实践。

#### 渗透测试和漏洞评估有什么区别？

[Penetration testing](../P/penetration-testing.md) 和漏洞评估都是网络安全策略的关键组成部分，但它们服务于不同的目的，并且以不同的方式进行。
  **漏洞评估**是一个对计算机系统、应用程序和网络基础设施中的漏洞进行识别、分类和优先级排序的过程。它提供了可被利用的安全漏洞的完整列表。漏洞评估通常涉及使用自动扫描工具来检测已知漏洞。
  另一方面，**[Penetration Testing](../P/penetration-testing.md)** 是针对您的计算机系统的模拟网络攻击，以检查可利用的漏洞。在 Web 应用程序安全上下文中，[penetration testing](../P/penetration-testing.md) 用于增强 Web 应用程序防火墙 (WAF)。
  主要区别是：

- **范围**：漏洞评估更广泛且非侵入性，重点是识别潜在漏洞。 [Penetration testing](../P/penetration-testing.md) 范围更窄且更具侵入性，试图利用这些漏洞来确定可以获得哪些信息和访问权限。
  - **深度**：[Penetration testing](../P/penetration-testing.md) 通过利用漏洞来更深入地了解风险和潜在损害的级别。漏洞评估是更表面的评估。
  - **方法**：漏洞评估通常严重依赖自动化工具，而[penetration testing](../P/penetration-testing.md)则采用手动技术，需要测试人员具有更高水平的专业知识来模拟现实世界的攻击。
  - **结果**：漏洞评估的结果通常是发现的漏洞列表，而渗透测试的结果是了解系统抵御攻击的能力以及违规的潜在影响。
  从本质上讲，漏洞评估是为了发现潜在的漏洞，渗透测试是为了利用它们来了解后果。两者对于强大的安全策略都是至关重要的，评估提供广泛的概述，渗透测试提供更深入的安全防御分析。

- **范围**：漏洞评估更广泛且非侵入性，重点是识别潜在漏洞。 [Penetration testing](../P/penetration-testing.md) 范围更窄且更具侵入性，试图利用这些漏洞来确定可以获得哪些信息和访问权限。
  - **深度**：[Penetration testing](../P/penetration-testing.md) 通过利用漏洞来更深入地了解风险和潜在损害的级别。漏洞评估是更表面的评估。
  - **方法**：漏洞评估通常严重依赖自动化工具，而[penetration testing](../P/penetration-testing.md)则采用手动技术，需要测试人员具有更高水平的专业知识来模拟现实世界的攻击。
  - **结果**：漏洞评估的结果通常是发现的漏洞列表，而渗透测试的结果是了解系统抵御攻击的能力以及违规的潜在影响。

### 方法论

#### 渗透测试有哪些阶段？

渗透测试的阶段通常包括：

1. **规划和侦察**：定义范围和目标，收集情报（例如域名、网络基础设施）以了解目标的工作方式及其潜在漏洞。
  2. **扫描**：使用Nmap或Nessus等工具，通过发送数据包和分析响应来了解目标的网络和系统特征。
  3. **获取访问权限**：尝试利用扫描阶段发现的漏洞，使用 [SQL](../S/sql.md) 注入、跨站点脚本或其他攻击媒介等方法来获取未经授权的访问权限。
  4. **维护访问权限**：在被利用的系统中建立持久存在，以了解可以维护的访问级别；这可能涉及创建后门或使用命令和控制服务器。
  5. **分析和 WAF 配置**：查看收集的数据，以识别和记录漏洞、安全漏洞和受损数据。根据攻击模式调整Web应用防火墙（WAF）以防止类似的攻击。
  6. **报告**：编写详细报告，其中包括发现的漏洞、访问的敏感数据、测试人员能够在系统中保持未被检测到的时间以及安全改进建议。
  7. **补救后续行动**：组织处理发现的问题后，可能会发生[retesting](../R/retesting.md)以确保漏洞得到有效补救。
  每个阶段都需要有条不紊的方法来确保彻底的测试，同时最大限度地减少对目标系统的潜在干扰。

1. **规划和侦察**：定义范围和目标，收集情报（例如域名、网络基础设施）以了解目标的工作方式及其潜在漏洞。
  2. **扫描**：使用Nmap或Nessus等工具，通过发送数据包和分析响应来了解目标的网络和系统特征。
  3. **获取访问权限**：尝试利用扫描阶段发现的漏洞，使用 [SQL](../S/sql.md) 注入、跨站点脚本或其他攻击媒介等方法来获取未经授权的访问权限。
  4. **维护访问权限**：在被利用的系统中建立持久存在，以了解可以维护的访问级别；这可能涉及创建后门或使用命令和控制服务器。
  5. **分析和 WAF 配置**：查看收集的数据，以识别和记录漏洞、安全漏洞和受损数据。根据攻击模式调整Web应用防火墙（WAF）以防止类似的攻击。
  6. **报告**：编写详细报告，其中包括发现的漏洞、访问的敏感数据、测试人员能够在系统中保持未被检测到的时间以及安全改进建议。
  7. **补救后续行动**：组织处理发现的问题后，可能会进行[retesting](../R/retesting.md)以确保漏洞得到有效补救。

#### 黑盒、白盒和灰盒渗透测试有什么区别？

黑匣子[penetration testing](../P/penetration-testing.md)涉及在事先不了解系统内部工作情况的情况下评估系统。测试人员模拟外部攻击，从局外人的角度关注暴露的接口和潜在的漏洞。
  白盒[penetration testing](../P/penetration-testing.md)，也称为明盒测试，为测试人员提供系统的完整知识，包括架构、源代码和凭证。这种方法可以彻底检查内部逻辑和结构，识别从外部不可见的漏洞。
  灰盒[penetration testing](../P/penetration-testing.md) 是一种混合方法，提供系统的部分知识，例如用户级访问或系统架构图。它在黑色和[white box testing](../W/white-box-testing.md)之间取得了平衡，利用有限的信息来模拟内部人员或具有特权访问权限的人的攻击。
  每种方法都提供不同的见解，并根据渗透测试的具体目标进行选择。 **黑盒**测试有助于了解攻击者的观点，**白盒**测试提供全面的安全审核，而**灰盒**测试提供了知识渊博的攻击者可以实现的目标的现实场景。

#### 社会工程在渗透测试中的作用是什么？

在[penetration testing](../P/penetration-testing.md) 的背景下，**社会工程**是一种通过操纵个人破坏正常安全程序来利用人类漏洞的技术。这是一种依赖于人际互动的非技术策略，通常涉及诱骗人们泄露机密信息。
  社会工程对于测试组织的**安全意识**及其**安全策略**和**培训计划**的有效性至关重要。它可以包括各种策略，例如网络钓鱼电子邮件、借口、诱饵、尾随，甚至通过电话或亲自进行直接操纵。
  在渗透测试期间，社会工程可以揭示员工对欺骗行为的敏感程度，以及他们是否可能泄露敏感信息或向未经授权的个人授予访问权限。它有助于识别潜在的内部威胁以及改进员工培训的需求。
  渗透测试人员使用社会工程来评估安全的“人为因素”，补充系统和网络的技术评估。通过这样做，它们可以对组织的安全状况进行更全面的评估。
  **自动化工具**可能有助于制作和分发网络钓鱼活动或生成借口场景，但社会工程的成功在很大程度上取决于测试人员的创造力和适应性。
  社会工程尝试的结果对于组织了解和减轻**社会风险**至关重要，从而针对针对人类的攻击采取更强有力的安全措施。

#### 渗透测试中的“杀伤链”是什么？

在[penetration testing](../P/penetration-testing.md) 的背景下，**杀伤链**是一个借用自军事战略的概念，概述了网络攻击的各个阶段。它提供了一种结构化方法来识别和防止网络入侵。渗透测试人员使用杀伤链框架来模拟攻击者破坏系统所采取的步骤。这种方法有助于了解攻击向量、识别弱点并有效实施防御策略。
  杀伤链通常包括以下阶段：

1. **侦察**：收集目标信息以查找漏洞。
  2. **武器化**：创建旨在利用已识别漏洞的恶意软件。
  3. **交付**：将武器传送到目标（例如，通过电子邮件、网站）。
  4. **利用**：触发漏洞执行攻击。
  5. **安装**：安装后门或其他恶意负载以实现持久访问。
  6. **命令和控制（C2）**：建立远程控制受感染系统的通道。
  7. **针对目标的行动**：执行预期结果，例如数据泄露或系统损坏。
  渗透测试人员使用杀伤链来指导他们的模拟攻击，确保它们涵盖现实世界漏洞的所有潜在方面。这种有条不紊的方法有助于识别每个阶段的安全漏洞，从而对组织的安全状况进行全面评估。

1. **侦察**：收集目标信息以查找漏洞。
  2. **武器化**：创建旨在利用已识别漏洞的恶意软件。
  3. **交付**：将武器传送到目标（例如，通过电子邮件、网站）。
  4. **利用**：触发漏洞执行攻击。
  5. **安装**：安装后门或其他恶意负载以实现持久访问。
  6. **命令和控制（C2）**：建立远程控制受感染系统的通道。
  7. **针对目标的行动**：执行预期结果，例如数据泄露或系统损坏。

### 工具和技术

#### 渗透测试中常用的工具有哪些？

[penetration testing](../P/penetration-testing.md) 中使用的常用工具包括：

- **Metasploit**：一个开源框架，提供有关安全漏洞的信息并帮助渗透测试和 IDS 签名开发。
  - **Nmap** ：一种网络映射工具，可以发现计算机网络上的主机和服务，从而构建网络“地图”。
  - **Wireshark**：一种网络协议分析器，可让您捕获和交互式浏览计算机网络上运行的流量。
  - **Burp Suite**：用于执行 Web 应用程序安全测试的集成平台。它拥有各种工具，它们之间有许多接口，旨在促进和加速攻击应用程序的过程。
  - **OWASP ZAP（Zed 攻击代理）**：开源 Web 应用程序安全扫描器。它旨在查找 Web 应用程序中的安全漏洞。
  - **Aircrack-ng**：网络软件套件，包括检测器、数据包嗅探器、WEP 和 WPA/WPA2-PSK 破解器以及 802.11 无线 LAN 分析工具。
  - **John the Ripper**：一种快速密码破解程序，目前可用于多种版本的 Unix、Windows、DOS、BeOS 和 OpenVMS。
  - **SQLmap**：一种开源渗透测试工具，可自动执行检测和利用 SQL 注入缺陷以及接管数据库服务器的过程。
  这些工具通常结合使用来执行全面的渗透测试，每个工具在测试人员的工具包中都有特定的用途。

- **Metasploit**：一个开源框架，提供有关安全漏洞的信息并帮助渗透测试和 IDS 签名开发。
  - **Nmap** ：一种网络映射工具，可以发现计算机网络上的主机和服务，从而构建网络“地图”。
  - **Wireshark**：一种网络协议分析器，可让您捕获和交互式浏览计算机网络上运行的流量。
  - **Burp Suite**：用于执行 Web 应用程序安全测试的集成平台。它拥有各种工具，它们之间有许多接口，旨在促进和加速攻击应用程序的过程。
  - **OWASP ZAP（Zed 攻击代理）**：开源 Web 应用程序安全扫描器。它旨在查找 Web 应用程序中的安全漏洞。
  - **Aircrack-ng**：网络软件套件，包括检测器、数据包嗅探器、WEP 和 WPA/WPA2-PSK 破解器以及 802.11 无线 LAN 分析工具。
  - **John the Ripper**：一种快速密码破解程序，目前可用于多种版本的 Unix、Windows、DOS、BeOS 和 OpenVMS。
  - **SQLmap**：一种开源渗透测试工具，可自动执行检测和利用 SQL 注入缺陷以及接管数据库服务器的过程。

#### 自动化工具在渗透测试中的作用是什么？

自动化工具通过提高效率、覆盖范围和一致性，在[penetration testing](../P/penetration-testing.md) 中发挥**关键作用**。它们用于**自动执行重复性任务**，例如扫描漏洞、暴力破解凭据或执行网络侦察。这使得渗透测试人员能够专注于需要人类直觉和专业知识的更复杂的任务。
  自动化工具可以快速识别大量系统中的已知漏洞，这在渗透测试的**初始阶段**特别有用。它们还可用于**模拟对网络、应用程序和系统的攻击**，以评估其在受控条件下的响应。
  一些工具旨在自动利用漏洞，使测试人员能够展示漏洞的潜在影响。他们还可以在**后利用阶段**提供帮助，管理受感染的系统并维护进一步分析的访问权限。
  然而，值得注意的是，自动化工具并不是灵丹妙药。它们可能会生成 **[false positives](../F/false-positive.md)** 或 **错过需要人类判断才能识别的特定于上下文的漏洞**。因此，它们最好与[manual testing](../M/manual-testing.md) 技术结合使用。
  渗透测试人员经常使用Python或PowerShell等**脚本语言**来创建自定义脚本或修改现有工具以满足[test environment](../T/test-environment.md)的特定需求。这种级别的定制可确保测试的自动化方面尽可能有效。
  总之，自动化工具在[penetration testing](../P/penetration-testing.md) 中是不可或缺的，因为它们能够大规模、快速地执行任务，但它们必须得到[manual testing](../M/manual-testing.md) 的补充，以确保全面的安全评估。

#### 渗透测试中常用的技术有哪些？

[penetration testing](../P/penetration-testing.md) 中的常用技术包括：

- **网络扫描**：识别活动主机、开放端口和服务器上运行的服务。
  - **漏洞扫描**：使用自动化工具扫描已知漏洞。
  - **密码破解**：尝试使用各种工具和技术猜测或解密密码。
  - **网络钓鱼攻击**：模拟恶意电子邮件以测试员工的意识和响应。
  - **利用**：利用漏洞获得未经授权的访问或升级权限。
  - **数据包嗅探**：捕获和分析网络流量以提取敏感信息。
  - **防火墙规避**：绕过防火墙规则和过滤器以访问受保护网络的技术。
  - **[SQL](../S/sql.md) 注入**：利用 SQL 漏洞来操纵或访问数据库信息。
  - **跨站脚本（XSS）**：将恶意脚本注入其他用户查看的网页中。
  - **会话劫持**：捕获并利用有效的会话令牌来冒充用户。
  - **拒绝服务 (DoS)**：系统超载以中断合法用户的服务。
  - **中间人 (MitM) 攻击**：在双方不知情的情况下拦截和更改双方之间的通信。
  - **Web 应用程序攻击**：针对 Web 应用程序使用各种攻击向量，例如 CSRF、文件包含等。
  - **无线测试**：评估无线网络的安全性，包括加密和身份验证弱点。
  - **物理[Security Testing](../S/security-testing.md)**：评估物理控制（如锁、门禁卡和监控）的有效性。
  这些技术通常结合起来模拟全面的攻击场景，提供对安全态势的真实评估。

- **网络扫描**：识别活动主机、开放端口和服务器上运行的服务。
  - **漏洞扫描**：使用自动化工具扫描已知漏洞。
  - **密码破解**：尝试使用各种工具和技术猜测或解密密码。
  - **网络钓鱼攻击**：模拟恶意电子邮件以测试员工的意识和响应。
  - **利用**：利用漏洞获得未经授权的访问或升级权限。
  - **数据包嗅探**：捕获和分析网络流量以提取敏感信息。
  - **防火墙规避**：绕过防火墙规则和过滤器以访问受保护网络的技术。
  - **[SQL](../S/sql.md) 注入**：利用 SQL 漏洞来操纵或访问数据库信息。
  - **跨站脚本（XSS）**：将恶意脚本注入其他用户查看的网页中。
  - **会话劫持**：捕获并利用有效的会话令牌来冒充用户。
  - **拒绝服务 (DoS)**：系统超载以中断合法用户的服务。
  - **中间人 (MitM) 攻击**：在双方不知情的情况下拦截和更改双方之间的通信。
  - **Web 应用程序攻击**：针对 Web 应用程序使用各种攻击向量，例如 CSRF、文件包含等。
  - **无线测试**：评估无线网络的安全性，包括加密和身份验证弱点。
  - **物理[Security Testing](../S/security-testing.md)**：评估物理控制（如锁、门禁卡和监控）的有效性。

#### 渗透测试期间如何利用漏洞？

在渗透测试期间，通过模拟恶意行为者可能用来破坏系统的攻击来利用漏洞。利用涉及以下步骤：

1. **识别漏洞**：测试人员使用自动化工具和手动技术发现系统中的安全漏洞。
  2. **利用漏洞**：测试人员开发或使用利用已识别漏洞的现有漏洞。这些漏洞是利用安全漏洞导致意外行为的代码片段或命令序列。
  3. **执行漏洞利用**：针对易受攻击的组件执行漏洞利用，以确定是否可以实现未经授权的访问或其他恶意活动。
  4. **升级权限**：如果初始访问受到限制，测试人员可能会尝试升级权限以获得对系统的更高级别的访问权限。
  5. **维持访问**：测试人员可能会尝试在受感染的系统上建立持久存在，以模拟高级持续威胁 (APT)。
  6. **转向**：利用受感染的系统，测试人员可以转向网络内的其他系统，以发现其他漏洞并评估潜在违规的程度。
  开发过程要小心谨慎并加以控制，以避免实际损坏或数据丢失。目标是在不中断系统正常运行的情况下验证漏洞的存在并评估潜在影响。然后记录调查结果，并建议补救策略以增强系统的安全状况。

1. **识别漏洞**：测试人员使用自动化工具和手动技术发现系统中的安全漏洞。
  2. **利用漏洞**：测试人员开发或使用利用已识别漏洞的现有漏洞。这些漏洞是利用安全漏洞导致意外行为的代码片段或命令序列。
  3. **执行漏洞利用**：针对易受攻击的组件执行漏洞利用，以确定是否可以实现未经授权的访问或其他恶意活动。
  4. **升级权限**：如果初始访问受到限制，测试人员可能会尝试升级权限以获得对系统的更高级别的访问权限。
  5. **维持访问**：测试人员可能会尝试在受感染的系统上建立持久存在，以模拟高级持续威胁 (APT)。
  6. **转向**：利用受感染的系统，测试人员可以转向网络内的其他系统，以发现其他漏洞并评估潜在违规的程度。

### 道德与法律

#### 渗透测试中的道德考虑因素有哪些？

[penetration testing](../P/penetration-testing.md) 中的道德考虑对于维持信任、合法性和专业精神至关重要。 **尊重隐私**至关重要；测试人员绝不能访问或披露超出测试所需的任何数据。 **同意**是另一个基石；在测试开始之前，需要获得系统所有者的明确许可。该同意书应记录在案，并包括测试的范围和限制。
  **保密协议 (NDA)** 通常用于确保测试过程中发现的敏感信息得到保密。渗透测试人员必须严格遵守这些协议。 **诚信**也是关键；测试人员不应修改或删除目标系统上的数据，除非得到特别授权。
  测试人员必须意识到潜在的**意外后果**，例如系统中断或数据丢失，并采取措施尽量减少这些风险。他们还应该制定**事件响应**计划，以防他们的行为无意中造成伤害。
  最后，测试人员应遵循 **道德准则**，例如 EC-Council 或 ISC² 等专业组织提供的道德准则。这包括提高所测试系统的安全性、避免利益冲突以及以专业的方式努力改善组织的安全状况。
  总之，道德[penetration testing](../P/penetration-testing.md)需要明确的同意、保密性、完整性、潜在影响意识、遵守专业道德准则以及提高系统安全性的承诺。

#### 渗透测试的法律考虑因素有哪些？

在进行[penetration testing](../P/penetration-testing.md)时，考虑**法律影响**至关重要，以避免未经授权的访问和潜在的法律诉讼。以下是需要考虑的要点：

- **授权**：在测试之前获得系统所有者的明确书面许可。这应该概述测试的范围和限制。
  - **遵守法律**：遵守地方、州和联邦法律，包括美国的计算机欺诈和滥用法案 (CFAA)，该法案规定未经授权的访问属于非法行为。
  - **合同协议**：确保与客户的合同或协议包含赔偿条款，以防止测试引起的法律问题。
  - **数据保护**：请注意 GDPR 或 HIPAA 等数据保护法，这些法律对处理个人数据施加了严格的规则。
  - **保密协议 (NDAs)**：使用 NDA 来保护测试期间发现的敏感信息。
  - **工作范围**：明确定义要测试的内容和禁止的内容，以防止任何意外的违法行为。
  - **第三方服务**：如果测试涉及第三方服务或应用程序，请确保您也获得了这些实体的许可。
  - **报告**：记录测试期间采取的所有行动，以提供活动的授权和合法性质的证据。
  不考虑这些法律方面可能会导致刑事指控、民事责任和声誉损害。在参与[penetration testing](../P/penetration-testing.md) 活动之前，请务必咨询熟悉网络法的法律顾问。

- **授权**：在测试之前获得系统所有者的明确书面许可。这应该概述测试的范围和限制。
  - **遵守法律**：遵守地方、州和联邦法律，包括美国的计算机欺诈和滥用法案 (CFAA)，该法案规定未经授权的访问属于非法行为。
  - **合同协议**：确保与客户的合同或协议包含赔偿条款，以防止测试引起的法律问题。
  - **数据保护**：请注意 GDPR 或 HIPAA 等数据保护法，这些法律对处理个人数据施加了严格的规则。
  - **保密协议 (NDAs)**：使用 NDA 来保护测试期间发现的敏感信息。
  - **工作范围**：明确定义要测试的内容和禁止的内容，以防止任何意外的违法行为。
  - **第三方服务**：如果测试涉及第三方服务或应用程序，请确保您也获得了这些实体的许可。
  - **报告**：记录测试期间采取的所有行动，以提供活动的授权和合法性质的证据。

#### 渗透测试中“权限”的作用是什么？

在[penetration testing](../P/penetration-testing.md) 中，**许可**至关重要，因为它定义了测试的法律和道德界限。在尝试识别和利用漏洞之前，测试人员必须获得系统所有者的明确、记录在案的授权。此许可通常在**工作范围**文件中概述，其中详细说明了测试的目标、方法和限制，以确保遵守法律法规。
  如果没有适当的许可，渗透测试人员可能要承担损害赔偿责任或面临法律后果，因为根据美国《计算机欺诈和滥用法》(CFAA) 等法律，未经授权访问计算机系统和数据可能被视为刑事犯罪。许可确保测试人员拥有明确的授权，并保护测试人员和组织免受法律影响。
  此外，许可通常伴随着**“免狱”卡**，测试人员可以向执法部门或其他当局出示该文件，以证明他们的活动是经批准的安全评估的一部分。该卡通常包含招聘组织中可以确认测试人员合法性的人员的联系信息。
  总之，许可是 [penetration testing](../P/penetration-testing.md) 流程合法化的基础，它界定了允许的内容并确保所有活动都在法律和道德约束范围内。

#### 渗透测试中的“免狱”卡是什么？

在[penetration testing](../P/penetration-testing.md) 领域，**“免狱”卡**是一种文件或协议，可作为渗透测试人员开展活动的授权证明。它对测试人员来说是一种保护措施，确保他们在其活动被误认为是恶意黑客攻击时可以将其提交给执法部门或任何其他机构。该卡通常包括：

- 测试范围，包括可以测试哪些系统和网络。
  - 测试的持续时间，指定开始和结束日期。
  - 测试者和授权方的联系信息。
  - 授权测试的客户或组织的许可声明。
  对于测试人员来说，在测试过程中手头备有此文档至关重要，以避免出现任何法律问题。该卡本质上充当**书面同意**形式，在对测试活动的性质产生任何误解时保护测试人员和客户。

- 测试范围，包括可以测试哪些系统和网络。
  - 测试的持续时间，指定开始和结束日期。
  - 测试者和授权方的联系信息。
  - 授权测试的客户或组织的许可声明。

### 报告和补救

#### 渗透测试报告中应包含哪些内容？

[penetration testing](../P/penetration-testing.md) 报告应提供测试结果的全面且可操作的说明。它通常包括以下元素：

- **执行摘要**：为管理层量身定制的高级概述，总结了范围、目标和主要发现。
  - **范围和目标**：详细描述测试的边界和目标，为结果提供背景。
  - **方法**：测试期间使用的方法和技术的概述，包括遵循的任何框架或标准。
  - **调查结果和证据**：对发现的漏洞的详细说明，包括其位置、概念证明和潜在影响。屏幕截图、代码片段或日志可用于支持调查结果。
  - **风险评估**：每个发现都应附有风险评级，通常基于严重性和可能性，以确定补救措施的优先顺序。
  - **建议**：关于如何解决每个发现的定制建议，包括潜在的解决方案或缓解策略。
  - **结论**：最终总结，概括了总体安全态势以及观察到的任何总体问题或模式。
  - **附录**：附加信息，例如工具的原始输出、完整的漏洞列表或支持主要内容的详细技术数据。
  该报告应清晰、简洁且不含行话，以便所有利益相关者都能理解。它还必须保持专业的基调并尊重保密性，以维护道德和法律标准。

- **执行摘要**：为管理层量身定制的高级概述，总结了范围、目标和主要发现。
  - **范围和目标**：详细描述测试的边界和目标，为结果提供背景。
  - **方法**：测试期间使用的方法和技术的概述，包括遵循的任何框架或标准。
  - **调查结果和证据**：对发现的漏洞的详细说明，包括其位置、概念证明和潜在影响。屏幕截图、代码片段或日志可用于支持调查结果。
  - **风险评估**：每个发现都应附有风险评级，通常基于严重性和可能性，以确定补救措施的优先顺序。
  - **建议**：关于如何解决每个发现的定制建议，包括潜在的解决方案或缓解策略。
  - **结论**：最终总结，概括了总体安全态势以及观察到的任何总体问题或模式。
  - **附录**：附加信息，例如工具的原始输出、完整的漏洞列表或支持主要内容的详细技术数据。

#### 应如何将渗透测试的结果传达给利益相关者？

应清晰、准确地向利益相关者传达渗透测试的结果。从**执行摘要**开始，它提供了测试结果、已识别的风险以及对业务的潜在影响的高级概述。这使得利益相关者能够快速掌握[severity](../S/severity.md) 及其含义，而无需陷入技术细节的困境。
  摘要后附有**详细报告**，其中包括：

- **已识别的漏洞**：列出每个漏洞并提供清晰的描述。
  - **风险级别**：使用 CVSS 等标准化评分系统来评估严重程度。
  - **潜在影响**：解释每个漏洞如何影响系统或数据。
  - **可利用性**：指示利用漏洞的容易程度。
  - **证据**：包括屏幕截图、日志或代码片段来证实调查结果。
  - $

    ```
    ```// 证据示例代码块
  console.log('漏洞利用示例输出');

  ```
  - **Recommendations**: Offer actionable remediation steps for each finding.
  Ensure that the language is **non-technical** where possible, or provide explanations for technical terms. Prioritize findings based on risk to help stakeholders focus on the most critical issues first.
  Finally, schedule a meeting to discuss the findings, allowing stakeholders to ask questions and clarify doubts. Emphasize the importance of timely remediation and offer assistance in understanding the technical aspects of the report. Maintain a **constructive tone** throughout, focusing on improving security rather than assigning blame.
  ```

- **已识别的漏洞**：列出每个漏洞并提供清晰的描述。
  - **风险级别**：使用 CVSS 等标准化评分系统来评估严重程度。
  - **潜在影响**：解释每个漏洞如何影响系统或数据。
  - **可利用性**：指示利用漏洞的容易程度。
  - **证据**：包括屏幕截图、日志或代码片段来证实调查结果。
  - $

    ```
    ```

#### 修复渗透测试中发现的漏洞的过程是什么？

一旦在渗透测试期间发现漏洞，修复过程通常涉及以下步骤：

1. **优先级**：根据[severity](../S/severity.md)、潜在影响和可利用性对漏洞进行排名。常用的框架包括 CVSS（通用漏洞评分系统）。
  2. **修补和缓解**：首先解决最关键的漏洞。应用供应商提供的补丁，或者在补丁不可用时实施缓解措施。这可能包括配置更改、网络分段或附加监控。
  3. **[Verification](../V/verification.md)**：应用修复后，重新测试受影响的系统，以确保漏洞已成功修复并且没有引入新问题。
  4. **文档**：使用所采取的补救措施和[verification](../V/verification.md) 测试的结果更新渗透[test report](../T/test-report.md)。该文档对于历史参考和未来测试至关重要。
  5. **沟通**​​：向所有相关利益相关者通报修复工作，包括修复了什么、如何修复以及任何潜在影响。
  6. **持续改进**：分析漏洞的根本原因，改进开发和部署流程，以防止将来出现类似问题。
  7. **重新扫描**：安排后续扫描或全面渗透测试，以确保修复工作全面且不会遗漏其他漏洞。
  将这些步骤集成到组织的事件响应和安全操作工作流程中非常重要，以确保系统、及时地响应渗透测试的结果。

1. **优先级**：根据[severity](../S/severity.md)、潜在影响和可利用性对漏洞进行排名。常用的框架包括 CVSS（通用漏洞评分系统）。
  2. **修补和缓解**：首先解决最关键的漏洞。应用供应商提供的补丁，或者在补丁不可用时实施缓解措施。这可能包括配置更改、网络分段或附加监控。
  3. **[Verification](../V/verification.md)**：应用修复后，重新测试受影响的系统，以确保漏洞已成功修复并且没有引入新问题。
  4. **文档**：使用所采取的补救措施和[verification](../V/verification.md) 测试的结果更新渗透[test report](../T/test-report.md)。该文档对于历史参考和未来测试至关重要。
  5. **沟通**​​：向所有相关利益相关者通报修复工作，包括修复了什么、如何修复以及任何潜在影响。
  6. **持续改进**：分析漏洞的根本原因，改进开发和部署流程，以防止将来出现类似问题。
  7. **重新扫描**：安排后续扫描或全面渗透测试，以确保修复工作全面且不会遗漏其他漏洞。

#### 渗透测试应该多久进行一次？

[Penetration testing](../P/penetration-testing.md) 频率取决于各种因素，包括**监管要求**、**行业最佳实践**、**基础设施的变化**和**风险级别**。通常，组织应**至少每年**进行渗透测试，以确保一致的安全态势。但是，在以下情况下建议更频繁地进行测试：

- **重大变化之后**
    网络、应用程序更新或新系统的引入。

- 当
    **新威胁或漏洞**
    已确定可能会影响系统。

- 回应
    **安全事件**
    了解违规的深度。

- 对于
    **高风险行业**
    或环境，例如金融或医疗保健，数据泄露可能会造成严重后果。
  此外，请考虑**持续的 [penetration testing](../P/penetration-testing.md)** 或 **[bug](../B/bug.md) 赏金计划**，以采取主动的安全方法，从而持续识别和修复漏洞。
  请记住平衡渗透测试的频率与组织**响应和修复**结果的能力。过于频繁地进行测试而不解决已发现的问题可能会适得其反。
  总之，虽然年度测试是基准，但请根据组织的具体环境和风险状况调整频率。

- **重大变化之后**
    网络、应用程序更新或新系统的引入。

- 当
    **新威胁或漏洞**
    已确定可能会影响系统。

- 回应
    **安全事件**
    了解违规的深度。

- 对于
    **高风险行业**
    或环境，例如金融或医疗保健，数据泄露可能会造成严重后果。
