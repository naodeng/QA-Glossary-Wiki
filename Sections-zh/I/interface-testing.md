# 接口测试 (Interface Testing)
[接口测试 (Interface Testing)](#接口测试)

### 相关术语：
- [集成测试 (Integration Testing)](/glossary/integration-testing)
- [API 测试 (API Testing)](/glossary/api-testing)

---

## 关于接口测试的问题？

#### 基础与重要性
- **什么是软件测试中的接口测试？**
**接口测试 (Interface Testing)** 专注于验证不同软件组件或系统之间的交互。它确保数据能准确交换，控制流符合预期逻辑，且接口协议得到严格遵守。与 UI 测试不同，接口测试通常在代码底层或服务层进行，是保障系统稳健性的核心。

- **为什么接口测试很重要？**
    *   **系统稳定性**：接口是系统间的契约，任何契约违约都会导致下游系统崩溃。
    *   **安全性**：接口往往是数据泄露或攻击（如注入）的主要入口。
    *   **性能保障**：许多性能瓶颈（如超大报文、高延迟）产生在接口调用环节。
    *   **成本效率**：在 UI 准备好之前即可进行的早期测试，缩短反馈周期。

- **核心目标**：
    *   验证**数据交换的正确性**。
    *   检查接口间的**兼容性**与协议一致性。
    *   确保**错误处理机制**强健（如 4xx/5xx 返回）。
    *   保障在高并发下的**性能表现**。

#### 技术与方法
- **常用测试方法**：
    *   **契约测试 (Contract Testing)**：验证生产者与消费者是否遵守预定的 Schema（如 OpenAPI）。
    *   **功能测试**：验证特定 API 的业务逻辑是否正确。
    *   **负面测试 (Negative Testing)**：输入异常数据验证防御逻辑。
    *   **端到端压力测试**：模拟真实流量下的接口吞吐量。

- **桩 (Stubs) 与 驱动 (Drivers)**：
    *   **桩 (Stubs)**：模拟“被调用者”，提供预设响应，用于解耦还未开发的后端。
    *   **驱动 (Drivers)**：模拟“调用者”，发起请求以触发被测接口。

#### 实践与工具
- **自动化应用**：
接口测试天然适合自动化。通过 **CI/CD 流水线**集成，能在每次代码合并时自动运行回归集，确保新改动未破坏现有链路。

- **常用工具**：
    *   **API 调试与测试**：Postman, Insomnia。
    *   **协议级测试**：SoapUI (SOAP/REST)。
    *   **自动化脚本**：REST Assured (Java), pytest (Python)。
    *   **性能与安全**：JMeter, OWASP ZAP。
    *   **前端交互**：Selenium, Cypress (验证 UI 与接口的粘合)。

#### 最佳实践
1. **明确契约**：使用 Swagger/OpenAPI 定义接口标准。
2. **场景覆盖**：覆盖边界值、幂等性、异常链路。
3. **环境隔离**：使用**服务虚拟化**（Mock 服务器）隔离不稳定的外部服务。
4. **版本兼容**：关注向上/向下兼容性，防止更新导致存量接口不可用。
5. **衡量有效性**：通过**缺陷检出率 (DDR)**、**接口复盖率**和**MTTD (平均故障检测时间)** 来持续优化测试质量。
