<!-- markdownlint-disable MD041 -->
- [Automated Testing 自动化测试](#automated-testing-自动化测试)
- [关于自动化测试的问题](#关于自动化测试的问题)
  - [基础知识和重要性](#基础知识和重要性)
    - [什么是自动化测试？](#什么是自动化测试)
    - [为什么自动化测试很重要？](#为什么自动化测试很重要)
    - [自动化测试的优点和缺点是什么？](#自动化测试的优点和缺点是什么)
    - [自动化测试如何融入软件开发生命周期？](#自动化测试如何融入软件开发生命周期)
    - [手动测试和自动化测试有什么区别？](#手动测试和自动化测试有什么区别)
  - [工具和技术](#工具和技术)
    - [自动化测试常用的工具有哪些？](#自动化测试常用的工具有哪些)
    - [这些工具之间有什么区别？](#这些工具之间有什么区别)
    - [如何为特定的测试任务选择正确的工具？](#如何为特定的测试任务选择正确的工具)
    - [自动化测试中常用的技术有哪些？](#自动化测试中常用的技术有哪些)
    - [如何将自动化测试工具集成到 CI/CD 流水线中？](#如何将自动化测试工具集成到-cicd-流水线中)
  - [测试用例和脚本](#测试用例和脚本)
    - [如何开发自动化测试的测试用例？](#如何开发自动化测试的测试用例)
    - [自动化测试中的测试脚本是什么？](#自动化测试中的测试脚本是什么)
    - [如何确保您的测试用例涵盖所有可能的场景？](#如何确保您的测试用例涵盖所有可能的场景)
    - [编写测试脚本的最佳实践有哪些？](#编写测试脚本的最佳实践有哪些)
    - [随着时间的推移，您如何管理和维护测试用例和脚本？](#随着时间的推移您如何管理和维护测试用例和脚本)
  - [自动化测试的类型](#自动化测试的类型)
    - [什么是单元测试？](#什么是单元测试)
    - [什么是集成测试？](#什么是集成测试)
    - [什么是系统测试？](#什么是系统测试)
    - [什么是回归测试？](#什么是回归测试)
    - [黑盒测试和白盒测试有什么区别？](#黑盒测试和白盒测试有什么区别)
    - [什么是端到端 (e2e) 测试以及为什么它很重要？](#什么是端到端-e2e-测试以及为什么它很重要)
  - [深层理解](#深层理解)
    - [什么是测试驱动开发 (TDD) 以及它与自动化测试有何关系？](#什么是测试驱动开发-tdd-以及它与自动化测试有何关系)
    - [什么是行为驱动开发 (BDD) 以及它与自动化测试有何关系？](#什么是行为驱动开发-bdd-以及它与自动化测试有何关系)
    - [什么是数据驱动测试？](#什么是数据驱动测试)
    - [什么是关键字驱动测试？](#什么是关键字驱动测试)
    - [人工智能和机器学习在自动化测试中的作用是什么？](#人工智能和机器学习在自动化测试中的作用是什么)

# Automated Testing 自动化测试

自动化测试使用脚本来执行重复性任务，提高软件性能和测试效率。它提高了[测试覆盖率](../T/test-coverage.md)和执行速度，使[软件测试](../S/software-testing.md)过程更加有效。

相关术语：

- [手工测试](../M/manual-testing.md)
- [测试自动化](../T/test-automation.md)

也可以看看：

- [维基百科](https://zh.wikipedia.org/wiki/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95)

# 关于自动化测试的问题

## 基础知识和重要性

### 什么是自动化测试？

自动化测试是使用软件工具执行预先编写的[测试脚本](../wiki/test-script.md)来验证软件应用功能、性能和可靠性的过程。与[手动测试](../wiki/manual-testing.md)不同，自动化测试一旦设置完成，就可以在最小的人工监督下重复执行。

这些测试通常使用与应用代码相同或不同的语言编写，旨在具有可重用性和可维护性。测试的范围可以从验证各个组件的简单单元测试到验证应用程序内整个工作流程的复杂端到端测试。

自动化测试是持续集成/持续部署（CI/CD）流水线的一部分，确保新的代码更改不会引入回归问题。这在快节奏的开发环境中保持[软件质量](../wiki/software-quality.md)至关重要。

```javascript
// Example of a simple automated test script in TypeScript
import { expect } from 'chai';
import { Calculator } from './Calculator';

describe('Calculator', () => {
  it('should add two numbers correctly', () => {
    const calculator = new Calculator();
    expect(calculator.add(2, 3)).to.equal(5);
  });
});
```

有效的自动化测试取决于选择适当的工具和框架、开发健壮的[测试用例](../wiki/test-case.md)并随着应用程序演变进行维护。同时，必须确保全面的[测试覆盖](../wiki/test-coverage.md)，以在部署之前捕获尽可能多的问题。随着人工智能和机器学习的进步，自动化测试变得更加智能，能够以更少的手动输入预测和适应软件的变化。

### 为什么自动化测试很重要？

自动化测试对于以无法匹敌的速度和规模**确保[软件质量](../wiki/software-quality.md)**至关重要。它使团队能够在较短的时间内执行更多的测试，对代码变更提供**快速反馈**。这在现代开发实践中至关重要，例如敏捷和 DevOps，其中持续集成和交付是关键。自动化通过允许频繁而一致的测试来支持这些方法，从而早期发现缺陷，降低了修复[缺陷](../wiki/bug.md)的成本和工作量。

此外，自动化测试可以**重复运行**，几乎没有额外成本，确保在新变更后之前开发的功能仍然可用（[回归测试](../wiki/regression-testing.md)）。它们还允许在各种环境和设备上进行**并行执行**，提高了[测试覆盖](../wiki/test-coverage.md)和效率。自动化测试以较少的人为错误生成**可靠的结果**，并提供详细的日志，有助于调试。

实质上，自动化测试是**[质量保证](../wiki/quality-assurance.md)战略**的基石，旨在及时交付健壮的软件。它通过处理重复且耗时的任务来补充[手动测试](../wiki/manual-testing.md)工作，使人工测试人员能够专注于更复杂和[探索性测试](../wiki/exploratory-testing.md)场景。

### 自动化测试的优点和缺点是什么？

自动化测试的优势：

- **速度和效率**：相比手动测试，自动化测试可以更快地执行更多的测试，提供对代码变更的快速反馈。
- **可重用性**：测试脚本可以在应用程序的不同版本之间重复使用，节省了测试准备的时间。
- **一致性**：确保每次执行测试时都是相同的，消除了人为错误。
- **覆盖范围**：能够执行手动情况下难以实现的全面测试，包括复杂的场景和大型数据集。
- **持续集成**：通过允许在进行更改时自动运行测试，有助于 CI/CD，是现代开发实践的关键。
- **早期[缺陷](../wiki/bug.md)检测**：能够在开发过程中迅速识别问题，降低修复成本。
- **[非功能性测试](../wiki/non-functional-testing.md)**：非常适合性能、负载和压力测试，这些测试在手动情况下难以执行。

自动化测试的劣势：

- **初期投资**：在工具和测试环境的设置方面有较高的初始成本。
- **维护**：测试脚本需要定期更新以适应应用程序的变化。
- **学习曲线**：团队需要时间学习工具并开发有效的测试。
- **有限范围**：无法像人类一样处理视觉参考或 UX 评估。
- **[误报](../wiki/false-positive.md)/漏报**：自动化测试可能报告不是缺陷的失败（误报）或错过缺陷（漏报）。
- **复杂的[设置](../wiki/setup.md)**：有些测试场景很难自动化，可能不值得付出努力。
- **工具限制**：工具可能不支持每种技术或应用程序类型，限制了它们的使用。

### 自动化测试如何融入软件开发生命周期？

自动化测试被无缝地融入到软件开发生命周期（SDLC）的各个阶段，以提高效率和可靠性。在**需求阶段**，我们计划了自动化测试，以确保其与验收标准一致。在**设计和开发阶段**，我们实施了自动化单元测试，通常遵循测试驱动开发（TDD）的实践。随着特性的完成，自动化集成测试用于验证组件之间的交互。

在**测试阶段**，自动化回归测试确保新的更改不会破坏现有功能，而自动化系统测试则验证整个软件系统。自动化端到端测试模拟用户行为，覆盖整个应用程序的工作流程。对于**部署**而言，在 CI/CD 流水线中，自动化测试对构建的健康状态提供了即时反馈。

在部署后，自动化测试继续支持**维护阶段**，快速发现由于补丁或更新引入的问题。在整个 SDLC 期间，我们会对自动化测试进行维护和完善，以适应应用程序要求的不断发展和覆盖新场景的需要。

自动化测试的角色是迭代的和持续的，与敏捷开发和 DevOps 方法论相一致，支持快速的开发周期和频繁的发布。这确保了质量从一开始就被内嵌到产品中，并在整个生命周期中得以保持。

```javascript
// Example of a simple automated unit test in TypeScript
import { add } from './math';

describe('add function', () => {
  it('should add two numbers correctly', () => {
    expect(add(2, 3)).toBe(5);
  });
});
```

### 手动测试和自动化测试有什么区别？

[手动测试](../wiki/manual-testing.md)涉及到测试人员在没有工具或脚本的帮助下执行[测试用例](../wiki/test-case.md)。相反，自动化测试使用软件工具自动运行测试，同时管理测试的执行和实际结果与预期结果的比较。

主要区别包括：

- **执行**：手动测试需要人类在每个步骤进行干预，而自动化测试则由软件执行。
- **速度**：一旦测试被开发，自动化测试的速度明显更快。
- **一致性**：自动化测试可以在相同条件下重复运行，确保一致性。而手动测试可能会受到人为错误的影响。
- **初始成本**：设置自动化测试需要比手动测试更多的时间和资源。
- **维护**：随着应用程序的变化，自动化测试需要进行维护以保持其有效性，而手动测试则更易于适应变化而无需额外设置。
- **可扩展性**：自动化测试能够处理大量测试并具有可扩展性，而手动测试在这方面具有挑战性。
- **复杂性**：一些复杂的用户交互可能难以自动化，手动评估可能更为合适。
- **反馈**：手动测试能够提供即时的定性反馈，而自动化测试则无法做到这一点。
- **[用例](../wiki/use-case.md)**：手动测试通常更适用于探索性、可用性和临时测试。而自动化测试则非常适用于回归、负载和性能测试等场景。

在实践中，通常采用平衡的方法，充分发挥两种方法的优势，是最有效的策略。

## 工具和技术

### 自动化测试常用的工具有哪些？

一些常见的自动化测试工具包括：

- **[Selenium](../S/selenium.md)**：一个用于在不同浏览器和平台上进行网页应用测试的开源框架。它支持多种编程语言，如Java、C#和Python。

```Typescript
WebDriver driver = new ChromeDriver();
driver.get("http://www.example.com");
```

- **Appium**：一个用于在 iOS 和 Android 平台上自动化移动应用的开源工具。它使用 WebDriver 协议。

```Typescript
DesiredCapabilities caps = new DesiredCapabilities();
caps.setCapability("platformName", "iOS");
caps.setCapability("deviceName", "iPhone Simulator");
```

- **JUnit**和**TestNG**：Java 单元测试的框架，提供注解和断言以帮助组织和运行测试。

```Typescript
@Test
public void testMethod() {
  assertEquals(1, 1);
}
```

- **[Cypress](../wiki/cypress.md)**：一个基于 JavaScript 的端到端测试框架，可在浏览器中运行，实现对在浏览器中运行的任何内容的快速、简便和可靠的测试。

```Typescript
describe('My First Test', () => {
  it('Visits the Kitchen Sink', () => {
    cy.visit('https://example.cypress.io')
  })
})
```

- **Robot Framework**：一个关键字驱动的测试自动化框架，用于验收测试和验收测试驱动开发（ATDD）。

```Typescript
*** Test Cases ***
Valid Login
    Open Browser To Login Page
    Input Username    demo
    Input Password    mode
    Submit Credentials
```

- **[Postman](../wiki/postman.md)**：一个用于 API 测试的工具，允许用户发送 HTTP 请求和分析响应，创建自动化测试，并与 CI/CD 流水线集成。

```Typescript
{
  "id": "f2955b9f-da77-4f80-8f1c-9f8b0d8f2b7d",
  "name": "API Test",
  "request": {
    "method": "GET",
    "url": "https://api.example.com/v1/users"
  }
}
```

- **Cucumber**：支持行为驱动开发（BDD），允许使用普通语言规定应用程序行为。

```Typescript
Feature: Login functionality
  Scenario: Successful login with valid credentials
    Given the user is on the login page
    When the user enters valid credentials
    Then the user is redirected to the homepage
```

这些工具提供了各种不同测试需求的能力，从单元测试和[集成测试](../I/integration-testing.md)到端到端和[API 测试](../A/api-testing.md)。

### 这些工具之间有什么区别？

不同的自动化测试工具具有独特的特性、功能和[用例](../U/use-case.md)。以下是简要的比较：

- **[Selenium](../S/selenium.md)**：用于在不同浏览器和平台上测试 Web 应用程序的开源工具。支持多种编程语言，并与各种框架集成。

```Typescript
WebDriver driver = new ChromeDriver();
driver.get("http://www.example.com");
```

- **QTP/UFT (统一的 [功能测试](../F/functional-testing.md))**：Micro Focus 提供的商业工具，用于功能和回归测试，主要针对桌面和 Web 应用程序。它使用 VBScript，并以其录制和回放功能而闻名。

```Typescript
Browser("Example").Page("Home").Link("Login").Click
```

- **TestComplete**：另一款商业工具，支持桌面、移动和 Web 应用程序。它提供基于脚本和关键字驱动的测试，并支持各种脚本语言。

```Typescript
Sys.Browser("*").Page("http://www.example.com").Link("Login").Click();
```

- **[Cypress](../C/cypress.md)**：专为现代 Web 应用程序设计的基于 JavaScript 的端到端测试框架。它在相同的运行循环中运行测试，提供实时反馈和更快的测试执行。

```Typescript
cy.visit('http://www.example.com');
cy.contains('Login').click();
```

- **[Jest](../J/jest.md)**：一个专注于简单性的 JavaScript 测试框架，支持单元和集成测试。它与 React 和其他现代 JavaScript 库兼容。

```Typescript
test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

- **Appium**：一个用于自动化测试移动应用程序的开源工具。支持原生、混合和移动 Web 应用程序，并与任何测试框架一起使用。

```Typescript
driver.findElement(By.id("com.example:id/login")).click();
```

- **Robot Framework**：一个使用表格测试数据语法的关键字驱动测试自动化框架。对于不熟悉编程的人来说，学习起来很容易，并与 Selenium 进行 Web 测试集成。

```Typescript
*** Test Cases ***
Login Test
    Open Browser    http://www.example.com    Chrome
    Click Link    Login
```

每个工具都有其优势，选择通常取决于被测试应用程序、首选的编程语言以及测试过程的具体要求。

### 如何为特定的测试任务选择正确的工具？

在选择适用于特定测试任务的正确工具时，需要考虑多个因素：

- **兼容性**：确保工具支持您应用的技术栈，如 Web、移动或桌面。
- **可用性**：选择符合团队技能的工具。如果学习曲线陡峭，可能会妨碍生产力。
- **集成性**：工具应能够与已有工具和工作流（如版本控制、CI/CD 流水线和问题跟踪系统）无缝集成。
- **可扩展性**：考虑工具是否能够应对应用规模和复杂性的增长。
- **灵活性**：具备编写自定义功能或与其他工具集成的能力，这对于处理复杂的测试场景至关重要。
- **报告功能**：详细的报告和分析有助于迅速发现趋势并准确定位问题。
- **支持与社区**：强大的社区和良好的供应商支持对于解决问题和保持工具更新至关重要。
- **成本**：评估工具的总体成本，包括许可、维护和培训成本，以确保符合预算。
- **性能**：工具应能够快速高效地执行测试，以适应迅速的开发周期。
- **可靠性**：选择具有稳定记录的工具，以避免测试失败或结果不一致。

通过在这些因素和测试任务的具体需求之间进行权衡，您可以选择一个提高测试效率和效果的工具。请记得定期重新评估您的选择，因为需求和工具本身都在不断发展。

### 自动化测试中常用的技术有哪些？

自动化测试 中的一些常见技术包括：

- **[页面对象模型](../wiki/page-object-model) (POM)**：在类中封装页面元素和交互，以促进代码重用和[可维护性](../wiki/maintainability)。

- **模块化测试**：将测试分解成较小、可管理的模块，具有独立的[测试脚本](../wiki/test-script.md)，增强[可维护性](../wiki/maintainability)和可扩展性。

- **混合测试框架**：结合各种测试方法，如关键字驱动和数据驱动，以发挥它们的优势。

- **行为驱动开发 ([BDD](../wiki/bdd))**：使用自然语言描述定义应用程序的行为，促进各方之间的沟通。

- **[测试驱动开发](../wiki/test-driven-development) (TDD)**：在实际编码之前编写[测试用例](../wiki/test-case.md)，确保软件在测试方面构建。

- **数据驱动测试**：使用外部数据源将多个数据集输入到[测试用例](../wiki/test-case.md)中，提高覆盖范围和效率。

- **关键字驱动测试**：使用代表操作和数据的关键字定义测试，使测试更易于理解和维护。

- **持续测试**：将测试集成到持续集成和交付流水线中，实时提供有关构建健康状况的反馈。

- **并行测试**：在不同环境中同时执行多个测试，减少[测试执行](../wiki/test-execution)所需的时间。

- **[API 测试](../wiki/api-testing)**：专注于直接测试[API](../wiki/api.md)的功能、可靠性、性能和安全性，通常比 UI 测试更低级别。

- **模拟和插桩**：使用模拟对象和插桩来模拟真实组件的行为，允许对系统的部分进行隔离测试。

- **[视觉回归测试](../wiki/visual-regression-testing)**：通过将当前屏幕截图与基准图像进行比较，检测意外的视觉变化。

- **负载和[性能测试](../wiki/performance-testing)**：模拟用户对软件的负载，检查在不同条件下的性能和可扩展性。

- **[安全测试](../wiki/security-testing)**：用于探测应用程序漏洞的自动化脚本，确保软件受到潜在攻击的保护。

这些技术可以结合和定制以满足特定项目要求，确保自动化测试过程的稳健和高效。

### 如何将自动化测试工具集成到 CI/CD 流水线中？

将自动化测试工具集成到 CI/CD 流水线中涉及以下几个步骤：

1. **选择适当的工具**，确保能够与您的 CI/CD 服务器（例如 Jenkins、GitLab CI、CircleCI）无缝集成。
2. **配置 CI/CD 服务器**以触发自动化测试。通常通过在流水线配置文件中定义作业或阶段来完成。
3. **设置[测试环境](../T/test-environment.md)**，用于运行自动化测试。这可以是专用的测试服务器、容器化环境或基于云的服务。
4. **编写[测试脚本](../T/test-script.md)**，确保与 CI/CD 环境兼容，可以在无需手动干预的情况下执行。
5. 将[测试脚本](../T/test-script.md)**存储在版本控制系统中，与应用程序代码一起，以保持版本控制和更改跟踪。
6. 为自动化测试定义触发器，例如在每次提交时、每夜构建时或按需触发。
7. 作为流水线的一部分执行测试，并确保将测试结果报告回 CI/CD 服务器。
8. 通过设置通知、仪表板或与其他工具集成进行结果分析来处理测试结果。
9. 管理[测试数据](../T/test-data.md)**和依赖项，以确保在测试运行之间保持一致性。
10. 在运行测试之前自动化应用程序的部署到测试环境。

Jenkinsfile 的示例流水线配置片段：

```shell
pipeline {
    agent any
    stages {
        stage('Test') {
            steps {
                // Checkout code
                checkout scm
                // Run tests
                script {
                    // Execute test command
                    sh 'npm test'
                }
            }
            post {
                always {
                    // Publish test results
                    junit '**/target/surefire-reports/TEST-*.xml'
                }
            }
        }
    }
}
```

确保流水线设计为在测试失败时**停止部署**，以保持发布的质量。定期**审查和更新**[测试用例](../T/test-case.md)和脚本，以适应应用程序的变化。

## 测试用例和脚本

### 如何开发自动化测试的测试用例？

为自动化测试制定[测试用例](../T/test-case.md)涉及以下几个步骤：

1. **确定测试需求**：分析待测试的应用程序（AUT），确定测试需求。集中关注高风险或频繁更改的功能、功能和区域。

2. **明确测试目标**：清晰地说明每个[测试用例](../T/test-case.md)应验证的内容。目标应具体、可测量，并与用户故事或需求对齐。

3. **设计[测试用例](../T/test-case.md)**：创建详细的[测试用例](../T/test-case.md)，包括前提条件、[测试数据](../T/test-data.md)、执行的操作和[预期结果](../E/expected-result.md)。确保它们具有可重用性和可维护性。

4. **使用参数进行测试**：使用参数使[测试用例](../T/test-case.md)支持数据驱动，以便使用相同脚本测试多个数据集。

5. **制定断言**：实施断言来检查 AUT 的响应是否符合预期结果。断言对于确定测试的通过/失败状态至关重要。

6. **编写[测试脚本](../T/test-script.md)**：使用自动化工具或框架编写脚本。遵循编码的最佳实践，例如使用[页面对象模型](../P/page-object-model.md)分离 UI 测试的测试逻辑和页面特定代码。

7. **设置[测试环境](../T/test-environment.md)**：配置测试运行的必要环境，包括浏览器、[数据库](../D/database.md)和其他任何依赖项。

8. **实施[测试执行](../T/test-execution.md)逻辑**：定义测试的执行方式，包括顺序、依赖关系以及前/后测试步骤的处理。

9. **审查和改进**：同行审查或演练可帮助及早发现问题。根据需要进行重构，以提高清晰度、效率和[可维护性](../M/maintainability.md)。

10. **版本控制**：将[测试用例](../T/test-case.md)和脚本存储在版本控制系统中，以跟踪更改并与团队成员合作。

11. **与 CI/CD 集成**：将[测试用例](../T/test-case.md)的自动化执行作为 CI/CD 流水线的一部分，以确保在每次构建或发布时对 AUT 进行持续验证。

通过遵循这些步骤，[测试自动化](../T/test-automation.md)工程师可以创建健壮、可靠且有效的自动化[测试用例](../T/test-case.md)，从而提高软件产品的整体质量。

### 自动化测试中的测试脚本是什么？

在自动化测试中，**[测试脚本](../T/test-script.md)**是由自动化工具执行的一组指令，用于验证软件应用程序的功能。它本质上是一个自动执行手动[测试用例](../T/test-case.md)步骤的程序。

[测试脚本](../T/test-script.md)与被测试的应用程序（AUT）进行交互，输入数据，并将预期结果与实际结果进行比较。它们是用自动化工具支持的编程或脚本语言编写的，如 JavaScript、Python 或 Ruby。

以下是使用假设的测试框架，用 JavaScript 编写的[测试脚本](../T/test-script.md)的简化示例：

```javascript
describe('Login Page Tests', function() {
  it('should allow a user to log in', function() {
    goToLoginPage();
    enterUsername('testUser');
    enterPassword('password123');
    submitLoginForm();
    expect(isLoggedIn()).toBe(true);
  });
});
```

该脚本描述了一个登录页面的[测试用例](../T/test-case.md)，其中导航到登录页面，输入凭据，提交表单，并检查登录是否成功。

有效的[测试脚本](../T/test-script.md)应具备以下特点：

- **可重用性**：像 `goToLoginPage()` 这样的函数可以在多个测试用例中使用。
- **可维护性**：在 AUT 更改时应易于更新。
- **可读性**：清晰而简洁，以便其他工程师能够理解和修改。
- **可靠性**：它们产生一致的结果，并能够优雅地处理异常情况。

脚本通常组织成[测试套件](../T/test-suite.md)以便更好地进行管理，并可以作为独立运行或作为更大测试运行的一部分。它们对于持续集成和交付流水线至关重要，允许对软件构建进行频繁和自动化的验证。

### 如何确保您的测试用例涵盖所有可能的场景？

为确保[测试用例](../T/test-case.md)涵盖所有可能的情景，请采取以下策略：

- **[等价分区](../E/equivalence-partitioning.md)**：将输入划分为逻辑组，其中相同行为的测试仅针对每个分区中的一个值进行。
- **边界值分析**：专注于输入范围边界的极端情况。
- **[决策表测试](../D/decision-table-testing.md)**：创建表格以探讨不同输入组合及其对应操作。
- **[状态转换测试](../S/state-transition-testing.md)**：将场景建模为系统的各种状态，识别变换和全面覆盖的条件。
- **[用例测试](../U/use-case-testing.md)**：从真实用例中衍生测试用例，以确保覆盖用户的各种路径。
- **组合测试**：应用成对测试等工具，检查参数之间的相互作用。
- **[基于风险的测试](../R/risk-based-testing.md)**：根据潜在故障的风险及其影响对测试进行优先排序。
- **[探索性测试](../E/exploratory-testing.md)**：通过手动的探索性会话补充自动化测试，以揭示未预料到的行为。
- **基于模型的测试**：从表示期望行为的系统模型生成测试用例。
- **[代码覆盖](../C/code-coverage.md)分析**：使用工具衡量测试执行的代码覆盖范围，力求获得高覆盖率指标，包括语句、分支和路径覆盖。

将这些策略融入测试设计过程中，打造一个全面的[测试套件](../T/test-suite.md)。定期审查和更新[测试用例](../T/test-case.md)，以适应应用程序及其使用模式的变化。

### 编写测试脚本的最佳实践有哪些？

编写[测试脚本](../T/test-script.md)的最佳实践包括：

- **[可维护性](../M/maintainability.md)**：使用注释解释复杂逻辑，编写清晰易懂的代码。使用页面对象或类似的模式将测试逻辑与 UI 结构分离，使脚本更易更新。

- **可重用性**：为常见操作创建可重用的函数或方法。这减少了重复，简化了更新。

- **模块化**：将测试拆分为较小的独立模块，可以组合成更大的测试。这提高了可读性和可调试性。

- **数据分离**：将[测试数据](../T/test-data.md)与脚本分开。使用外部数据源，如 JSON、XML 或 CSV 文件作为输入数据，这有助于轻松更新和进行数据驱动测试。

- **版本控制**：将[测试脚本](../T/test-script.md)存储在版本控制系统中，以跟踪更改，与他人协作，并在必要时恢复到先前的版本。

- **命名约定**：对[测试用例](../T/test-case.md)和函数使用描述性名称，以便一目了然地传达其目的。

- **错误处理**：实施健壮的错误处理来处理意外事件。测试应该以清晰的错误消息优雅地失败。

- **断言**：使用清晰具体的断言来确保测试准确验证预期结果。

- **并行执行**：设计测试在可能的情况下并行运行，以加快执行时间。

- **清理**：始终清理[测试数据](../T/test-data.md)并将系统恢复到其原始状态，以避免影响后续测试。

- **报告**：生成详细的日志和报告，以深入了解测试结果并便于故障排除。

- **持续集成**：将[测试脚本](../T/test-script.md)集成到 CI/CD 流水线中，以确保它们定期执行并提供有关代码更改的即时反馈。

```javascript
// Example of a reusable function in TypeScript
function login(username: string, password: string) {
  // Code to perform login action
}
```

遵循这些实践将带来健壮、可靠且高效的[测试自动化](../T/test-automation.md)脚本。

### 随着时间的推移，您如何管理和维护测试用例和脚本？

如何随着时间的推移管理和维护[测试用例](../T/test-case.md)和脚本需要结合**良好实践**、**组织**和**工具**。以下是一些策略：

- **版本控制**：使用像 Git 这样的版本控制系统跟踪更改，与团队成员合作，并在必要时回滚。
- **模块化设计**：以可重用的组件方式编写测试，以最小化维护工作并促进更新。
- **文档**：清晰地记录测试用例和脚本，包括目的、输入、预期结果和更改历史。
- **重构**：定期对测试进行重构，以提高清晰度、效率和可维护性，减少冗余并改善结构。
- **代码审查**：对测试脚本进行同行审查，确保质量并符合标准。
- **自动化检查**：实施自动化的清理和代码分析工具，以执行编码标准并及早检测问题。
- **[测试数据](../T/test-data.md)管理**：使用数据工厂或固定装置等策略有效地管理测试数据，确保其保持相关性和准确性。
- **持续集成**：将测试脚本集成到 CI/CD 管道中，以确保它们定期执行并与代码库兼容。
- **监控**：监控测试执行结果，迅速识别和解决不稳定性或失败。
- **优先级**：根据测试的关键性，优先处理维护任务，重点关注应用程序的高影响区域。
- **淘汰策略**：明确制定淘汰和删除过时测试的策略，以避免混乱和困扰。

通过采用这些策略，[测试自动化](../T/test-automation.md)工程师可以确保他们的[测试套件](../T/test-suite.md)随着时间的推移保持强大

、相关和可靠，为软件开发生命周期提供持续的价值。

## 自动化测试的类型

### 什么是单元测试？

[单元测试](../U/unit-testing.md)是一种实践，用于测试应用程序中最小可测试的部分，通常是函数或方法，而这些部分与系统的其余部分隔离开来。这确保每个组件都按照预期的方式运行。通常，开发人员在编写代码时编写并运行单元测试，以便及时获得对其更改的反馈。

在**自动化测试**的背景下，单元测试通常会自动执行，通常作为构建过程的一部分或通过**持续集成**（CI）系统执行。它们对于在开发周期的早期识别问题非常重要，这有助于减少修复[缺陷](../B/bug.md)的成本和时间。

单元测试的特点是其范围（狭窄，专注于代码的单一“单元”）和速度（执行速度快）。它们使用[单元测试](../U/unit-testing.md)框架编写，例如 Java 的 JUnit，.NET 的[NUnit](../N/nunit.md)，或 JavaScript 的[Jest](../J/jest.md)。这些框架提供了编写测试的结构，并包含断言以验证代码的行为是否符合预期。

以下是使用[Jest](../J/jest.md)在 TypeScript 中编写的简单单元测试示例：

```typescript
import { add } from './math';

test('adds 1 + 2 to equal 3', () => {
  expect(add(1, 2)).toBe(3);
});
```

单元测试应该是**可维护**和**可靠**的，不依赖于外部系统或状态。它们是健壮的自动化测试策略的基本组成部分，有助于提高软件的整体健康和质量。

### 什么是集成测试？

[集成测试](../I/integration-testing.md)是[软件测试](../S/software-testing.md)流程中的一环，它将软件应用程序的个体单元或组件组合在一起，作为一个组进行测试。其主要目标是验证集成的模块之间的功能、性能和可靠性。

在自动化测试中，集成测试是经过脚本编写的，通常并入构建过程，以确保新的更改不会破坏组件之间的交互。这些测试可能比单元测试更复杂，因为它们需要配置环境，让多个组件进行交互。

通常使用与单元测试相同或类似的工具编写自动化集成测试，但它们侧重于组件之间的交互点，以确保在组合时数据流、[API](../A/api.md)合同和用户界面能够按预期工作。它们可以在持续集成环境中执行，以在每次提交后或定期提供关于应用程序集成状态的反馈。

**在 TypeScript 中的自动化集成测试示例：**

```typescript
import { expect } from 'chai';
import { fetchData, processInput } from './integrationComponents';

describe('Integration Test', () => {
  it('should process input and return expected data', async () => {
    const input = 'test input';
    const processedData = await processInput(input);
    const fetchedData = await fetchData(processedData);

    expect(fetchedData).to.be.an('object');
    expect(fetchedData).to.have.property('key', 'expected value');
  });
});
```

该示例演示了一个简单的集成测试，其中`processInput`和`fetchData`是两个需要正确协同工作的单独组件。该测试确保一个组件处理的数据适用于另一个组件获取[期望的结果](../E/expected-result.md)。

### 什么是系统测试？

[系统测试](../S/system-testing.md)是一个**高层次**的测试阶段，对完整的、集成的软件系统进行评估，以验证其是否符合指定的要求。它在**[集成测试](../I/integration-testing.md)**之后和**[验收测试](../A/acceptance-testing.md)**之前进行，主要关注各种条件下的系统行为和输出。

在[系统测试](../S/system-testing.md)期间，应用程序在一个与生产环境非常相似的环境中进行测试，包括**[数据库](../D/database.md)交互**、**网络通信**和**服务器交互**。其目标是识别仅在组件集成和在系统范围上下文中交互时才会出现的缺陷。

[系统测试](../S/system-testing.md)的关键方面包括：

- **功能性测试**: 确保软件的行为符合预期。
- **[性能测试](../P/performance-testing.md)**: 检查系统在负载下的响应时间、吞吐量和稳定性。
- **[安全测试](../S/security-testing.md)**: 验证安全功能是否保护数据并按预期维护功能。
- **[可用性测试](../U/usability-testing.md)**: 评估用户界面和用户体验。
- **[兼容性测试](../C/compatibility-testing.md)**: 确认软件在不同设备、浏览器和操作系统上的工作。

自动化[系统测试](../S/system-testing.md)可以显著**减少执行重复但必要检查所需的时间**，从而实现更频繁和彻底的测试周期。它特别适用于**[回归测试](../R/regression-testing.md)**，以确保新更改没有对现有功能产生不良影响。然而，它可能无法完全替代[手工测试](../M/manual-testing.md)，特别是对于探索性、可用性和临时测试场景。  

### 什么是回归测试？

[回归测试](../R/regression-testing.md)是在进行增强、补丁或配置更改等变更后，验证先前开发和测试的软件仍然在正确执行的过程。它确保新的代码更改没有对现有功能产生不良影响。在**自动化测试**的背景下，回归测试通常作为经常运行的[测试套件](../T/test-suite.md)的一部分执行，通常在 CI/CD 流水线中运行，以提供有关代码修改影响的快速反馈。

自动化回归测试对于随着代码库的增长和演变而保持软件稳定性至关重要。它允许对软件行为进行一致和可重复的验证，这比手动[回归测试](../R/regression-testing.md)更为高效。可以在各种环境和配置上运行自动化测试，以确保广泛的覆盖范围。

以下是一个简单的 JavaScript 测试框架（如[Jest](../J/jest.md)）中的自动化回归测试的示例：

```javascript
describe('Calculator', () => {
  test('should add two numbers correctly', () => {
    expect(add(1, 2)).toBe(3);
  });
});
```

在这个例子中，`add`函数是先前经过测试的软件的一部分。回归测试将确保在对代码库进行更改后，`add`函数仍然产生[期望的结果](../E/expected-result.md)。

有效的[回归测试](../R/regression-testing.md)通常涉及选择涵盖关键功能的相关[测试用例](../T/test-case.md)，频繁运行这些测试，并随着软件演进而更新它们。这有助于及早识别缺陷，降低引入[错误](../B/bug.md)到生产环境的风险。

### 黑盒测试和白盒测试有什么区别？

[黑盒测试](../B/black-box-testing.md)和[白盒测试](../W/white-box-testing.md)是两种评估软件功能和完整性的不同方法。

**[黑盒测试](../B/black-box-testing.md)**将软件视为不透明的实体，主要关注输入和输出，而不考虑内部代码结构。测试人员根据规范验证功能，确保系统在各种条件下表现如预期。这种方法对内部工作毫不知情，因此被称为“黑盒”。

相反，**[白盒测试](../W/white-box-testing.md)**要求了解内部逻辑。测试人员检查代码库以确保其正常运作和结构，通常寻找特定条件，如循环执行、分支覆盖和路径覆盖。这种方法也被称为清晰、开放或透明测试，因为内部代码是可见的。

虽然这两种方法都可以自动化，但黑盒测试通常是更高层次的，例如用户[界面测试](../I/interface-testing.md)，而白盒测试则更注重底层，如单元测试。黑盒自动化脚本模拟用户交互，而白盒脚本则直接与应用程序代码交互。

在实践中，结合这两种方法提供了全面的测试策略，[黑盒测试](../B/black-box-testing.md)验证面向用户的功能，而[白盒测试](../W/white-box-testing.md)确保底层代码库的健壮性。

### 什么是端到端 (e2e) 测试以及为什么它很重要？

端到端（E2E）测试是一种在仿真真实使用场景的情况下对整个应用程序进行测试的技术，包括与[数据库](../D/database.md)、网络、硬件和其他应用程序的交互。其目的在于验证系统从头到尾的集成和数据完整性，确保应用程序在各种情境下的所有组件都表现正常。

**E2E 测试**至关重要，因为它验证系统的整体健康状况，而不同于侧重于单个组件或交互的单元测试或集成测试。它有助于捕捉在系统不同部分协同工作时可能出现的问题，这在孤立情况下可能不明显。这种测试对于直接影响用户体验或业务底线的关键工作流程尤为重要。

通过模拟真实用户场景，E2E 测试确保应用程序满足业务需求，并在生产环境中正确运行。它可以揭示由于各个子系统组合而导致的意外行为，这对于在实际环境中防止问题非常宝贵。

在**[测试自动化](../T/test-automation.md)**的背景下，E2E 测试通常作为 CI/CD 流水线的一部分执行，以确保新变更不会破坏关键功能。尽管相较于其他类型的测试，它们可能更为复杂且耗时，但在确认软件产品的可行性方面它们的重要性不可低估。

## 深层理解

### 什么是测试驱动开发 (TDD) 以及它与自动化测试有何关系？

**测试驱动开发**（TDD）是一种软件开发方法，它要求在编写代码之前先编写需要通过的测试。这一简单的循环包括：**编写测试**，**运行测试**（最初测试应该失败），**编写最少量的代码**以通过测试，然后在确保测试继续通过的同时**重构**代码。

TDD 与**自动化测试**密切相关，因为它本质上依赖于在实现软件功能之前创建自动化测试。这些测试通常是**单元测试**，可以迅速运行并且易于自动化。TDD 循环确保每个新功能都始于相应的[测试用例](../T/test-case.md)，这有助于随着时间的推移构建一套自动化测试。

这种方法对[测试自动化](../T/test-automation.md)产生了几个影响：

- **持续反馈**：自动化测试为代码变更提供即时反馈。
- **回归安全性**：随着代码库的增长，测试套件有助于防止回归问题。
- **设计影响**：首先编写测试可以推动更好的软件设计和架构。
- **重构信心**：自动化测试使开发人员能够在重构代码时确保现有功能仍然完好。

TDD 通过确保测试从开发过程的一开始就被考虑，而不是事后的事项，来补充其他自动化测试策略。它鼓励一种测试纪律，有助于构建更高质量的软件，并且与敏捷和持续集成/持续部署（CI/CD）工作流紧密配合。

### 什么是行为驱动开发 (BDD) 以及它与自动化测试有何关系？

行为驱动开发（[BDD](../B/bdd.md)）是一种敏捷软件开发过程，鼓励开发人员、质量保障（QA）以及非技术或业务参与者在软件项目中进行协作。[BDD](../B/bdd.md)通过与利益相关者进行讨论，专注于获得对期望的软件行为的清晰理解。它通过使用非程序员可以阅读的自然语言编写[测试用例](../T/test-case.md)来扩展[测试驱动开发](../T/test-driven-development.md)（TDD）。

[BDD](../B/bdd.md)与自动化测试相关联，提供了编写测试的框架。测试用例使用**特定领域语言（DSL）**编写，通常使用类似[Gherkin](../G/gherkin.md)的语言，允许以人类可读的方式描述软件行为。这些描述随后可以由 Cucumber 或 SpecFlow 等工具自动化。

```javascript
Feature: User login
  Scenario: Successful login with valid credentials
    Given the user is on the login page
    When the user enters valid credentials
    Then the user is redirected to the homepage
```

在[BDD](../B/bdd.md)中，场景在开发开始之前被定义，并作为[测试用例](../T/test-case.md)的基础。这确保了自动化测试与用户的预期行为保持一致。随着开发的进行，这些场景被转化为自动化测试，并持续执行以验证应用程序的行为是否符合预期结果。

[BDD](../B/bdd.md)对共享理解和清晰沟通的强调使其特别有用，以确保自动化测试是相关的、可理解的和易于维护的。它有助于弥合技术和非技术团队成员之间的差距，确保自动化测试准确反映业务需求和用户需求。

### 什么是数据驱动测试？

数据驱动测试（DDT）是一种**[测试自动化](../T/test-automation.md)**策略，其核心是使用多组输入数据执行一系列测试步骤。这一方法通过验证应用程序在广泛的输入值范围内的行为，而无需为每个数据集编写多个[测试脚本](../T/test-script.md)，从而提高了[测试覆盖率](../T/test-coverage.md)。

在 DDT 中，测试逻辑与[测试数据](../T/test-data.md)分离，通常存储在外部数据源中，如 CSV 文件、Excel 电子表格、XML 或[数据库](../D/database.md)。在[测试执行](../T/test-execution.md)过程中，自动化框架读取数据并将其输入[测试用例](../T/test-case.md)。

下面是一个简化的伪代码示例：

```Typescript
for each data_row in data_source:
    input_values = read_data(data_row)
    execute_test(input_values)
    verify_results()
```

DDT 特别适用于应用程序行为在不同数据输入下保持一致的情况，并且对于确保测试涵盖边缘情况和边界条件非常重要。此外，它还简化了更新测试的过程，因为[测试数据](../T/test-data.md)的更改不需要修改[测试脚本](../T/test-script.md)。

然而，需要谨慎设计 DDT，以避免产生维护负担，因为[测试数据](../T/test-data.md)的数量和复杂性可能会显著增长。妥善管理[测试数据](../T/test-data.md)是数据驱动测试成功的关键。

### 什么是关键字驱动测试？

关键字驱动测试，又称表驱动测试或基于动作关键字的测试，是一种在自动化测试中采用的方法，其中使用一组预定义的关键字编写[测试用例](../T/test-case.md)。这些关键字代表了可以在被测试的应用程序（AUT）上执行的操作。每个关键字都对应执行特定操作的函数或方法，例如点击按钮、输入文本或验证结果。

在关键字驱动测试中，[测试脚本](../T/test-script.md)不是用编程语言编写的。相反，它们由一系列关键字组成，易于阅读和理解。这种抽象使得没有编程专业知识的个人能够设计和执行测试，促进了不同利益相关者之间的协作。

以下是关键字驱动[测试用例](../T/test-case.md)可能的简化示例：

```Typescript
| Keyword       | Parameter 1    | Parameter 2       |
|---------------|----------------|-------------------|
| OpenBrowser   | Chrome         |                   |
| NavigateTo    | https://example.com |             |
| ClickButton   | Submit         |                   |
| VerifyText    | Thank you for submitting! |        |
```

[测试自动化](../T/test-automation.md)框架解释这些关键字并将它们转换为对 AUT 的操作。[测试用例](../T/test-case.md)的设计与[测试脚本](../T/test-script.md)的实施分离，使得[测试用例](../T/test-case.md)更容易维护和扩展。当关键字的底层实现发生变化时，只需更新相关的函数或方法，而不必触及[测试用例](../T/test-case.md)本身。

### 人工智能和机器学习在自动化测试中的作用是什么？

人工智能（AI）和机器学习（ML）正在改变**自动化测试**，提升了其能力和效率。**基于 AI 的[测试自动化](../T/test-automation.md)**可以**分析应用程序数据**以预测和优先考虑[测试用例](../T/test-case.md)，检测依赖关系，并识别存在更高缺陷可能性的区域。这种预测性分析有助于优化[测试套件](../T/test-suite.md)，减少冗余，并聚焦于高风险区域。

**机器学习算法**可以从过去的[测试执行](../T/test-execution.md)中**学习模式**并**预测未来的故障**。通过随着时间的推移分析结果，ML 可以提高测试的准确性，并适应应用程序的变化，而无需手动干预进行测试维护。

**自愈测试**利用 AI 在检测到应用程序的 UI 或[API](../A/api.md)发生变化时自动更新[测试脚本](../T/test-script.md)，极大减轻了维护负担。这种能力确保测试随着应用程序的演进而保持稳健和可靠。

增强 AI 的工具还可以提供**视觉测试功能**，比较应用程序的视觉方面，检测传统自动化测试可能未能捕捉到的 UI 差异。这对于确保跨设备和跨浏览器的一致性尤为有用。

此外，AI 可以协助**测试生成**，通过分析用户行为和应用程序使用模式创建有意义的[测试用例](../T/test-case.md)。这可以实现包括真实场景的更全面的[测试覆盖](../T/test-coverage.md)。

总的来说，AI 和 ML 在自动化测试中带来更智能的测试规划、维护、执行和分析，从而实现更高效和有效的测试流程。  
